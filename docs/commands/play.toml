name = "play"
isScreen = false
parameters = [
	"playString"
]
description = "Plays music notes generated by the Web Audio API."
pdata = [
	"Case insensitive string that contains commands for playing music.",
"""
<ul style='margin:0'>
<li><span class='gray'>"On"</span> Sets the current octave (from 0 to 9).</li>
<li><span class='gray'>"&lt;"</span> Sets the current octave down one octave.</li>
<li><span class='gray'>"&gt;"</span> Sets the current octave up one octave.</li>
<li><span class='gray'>"An", "Bn", "Cn", "Dn", "En", "Fn", "Gn"</span> Plays the specified note. Length is optional.</li>
<li><span class='gray'>"+", "#"</span> Makes the preceding note sharp.</li>
<li><span class='gray'>"-"</span> Makes the preceding note flat.</li>
<li><span class='gray'>"."</span> Period after a note plays 1 1/2 times the note length determined by L * T.</li>
<li><span class='gray'>".."</span> Two periods plays 1 3/4 times the note length determined by L * T.</li>
<li><span class='gray'>"Nn"</span> Plays a note by number, 0 is a rest.</li>
<li><span class='gray'>"Ln"</span> Sets length of a note from 1 to 64. A whole note is 1 and a quarter note is 4.</li>
<li><span class='gray'>"MS"</span> Staccato, each note plays 3/4 of length set by L.</li>
<li><span class='gray'>"MN"</span> Normal, each note plays 7/8 of length set by L.</li>
<li><span class='gray'>"ML"</span> Legato, each note plays full length set by L.</li>
<li><span class='gray'>"MOn"</span> Changes the octave for all subsequent notes. </li>
<li><span class='gray'>"MAn"</span> Sets the attack length for each note by percentage (0-100).</li>
<li><span class='gray'>"MTn"</span> Sets the sustain length for each note by percentage (0-100).</li>
<li><span class='gray'>"MDn"</span> Sets the decay length for each note by percentage (0-100).</li>
<li><span class='gray'>"MF"</span> Each note will play completely before playing the next note.</li>
<li><span class='gray'>"Pn"</span> Pause in the duration of n quarternotes (n can be 1 to 64) corresponding to L.</li>
<li><span class='gray'>"Tn"</span> Tempo sets number of L4 quarter notes per minute (n can be 32 to 255).</li>
<li><span class='gray'>"Vn"</span> Sets the volume between 0 and 100 percent.</li>
<li><span class='gray'>"square"</span> Sets the oscillator type to a square wave.</li>
<li><span class='gray'>"sine"</span> Sets the oscillator type to a sine wave.</li>
<li><span class='gray'>"triangle"</span> Sets the oscillator type to a triangle wave.</li>
<li><span class='gray'>"sawtooth"</span> Sets the oscillator type to a sawtooth wave.</li>
<li><span class='gray'>"[[n,n],[n,n]]"</span> Setup a custom wave table example: [[0,0.8,0.2,1],[1,0,1,0]]. There must be two sets of numbers of equal length.</li>
</ul>
"""

]
seeAlso = [
	"playAudioPool", "setVolume", "sound", "stopAudioPool", "stopPlay"
]
category = "sound"
returns = "A track id which can be used by the stopPlay command to stop the song."
example = """
$.play( `
	triangle
	ma5	mt90 md10
	mo1 t140 o2 p4 g2 e4. f8 g4 o3 c2 o2 b8 o3 c8 d4 c4 o2 b4 a8 g2.
	o2 b8 o3 c8 d4 c4 o2 b4 a8 a8 g8 o3 c4 o2 e8 e4 g8 a8 g4 f4 e4 f4 g2.
	g2 e4. f8 g4 o3 c2 o2 b8 o3 c8 d4 c4 o2 b4 a8 g2.
	square
	v30
	o2 b8 o3 c8 d4 c4 o2 b4 a8 a8 g8 o3 c4 o2 e8 e4 g8 a8 g4 f4 e4 d4 c2.
	c4 a4 a4 o3 c4 c4 o2 b4 a4 g4 e4 f4 a4 g4 f4 e2.
	ma10 mt80 md10
	mo-1
	sawtooth
	v35
	e8 e8 d4 d4 g4 g4 b4 b4 o3 d4 d8 o2 b8 o3 d4 c4 o2 b4 a4 g4 p4
	g2 g2 e4. f8 g4 o3 c2 o2 b8 o3 c8 d4 c4 o2 b4 a8 g8 g2.
	o2 b8 o3 c8 d4 c4 o2 b4 a8 a8 g8 o3 c4 o2 e8 e4 g8 a8 g4 f4 e4 d4 c2. p4
	[
		[   0, 0.4, 0.4,   1,   1,   1, 0.3, 0.7, 0.6, 0.5, 0.9, 0.8 ],
		[   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0 ]
	]
	v80
	ma20 md20
	t180 g8 g8 g4 g4 g4 a8 g8 g4 g4 g4 a4 g4 e4 g4 d1
	t180 g8 g8 g4 g4 g4 a8 g8 g4 g4 g4 g8 g8 g4 a4 b4 o3 c2 c4 p1
` );
"""
onclose = """
$.stopPlay();
"""