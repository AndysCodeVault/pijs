/*
* https://www.pijs.org/
* Pi.js
* Version: 1.1.1
* Copyright Andy Stubbs
* Released under the Apache License 2.0
* https://www.apache.org/licenses/LICENSE-2.0
* Date: 2023-03-03
* @preserve
*/
window.pi=function(){"use strict";var i,e,o,n,a,s,r;function c(e,t,o,n,a,r){i.commands[e]=t,o||s.push({name:e,fn:t,isScreen:n,parameters:a,isSet:r,noParse:r})}function t(e,t,o,n){i.settings[e]={name:e,fn:t,isScreen:o,parameters:n},i.settingsList.push(e)}function d(o){if(o.isSet)return i.screenCommands[o.name]=o,void(e[o.name]=function(){var e;return e=u(o,[].slice.call(arguments)),i.commands[o.name](null,e)});o.isScreen?(i.screenCommands[o.name]=o,e[o.name]=function(){var e,t;if(e=u(o,[].slice.call(arguments)),!1!==(t=g(void 0,o.name)))return i.commands[o.name](t,e)}):e[o.name]=function(){var e;return e=u(o,[].slice.call(arguments)),i.commands[o.name](e)}}function u(e,t){var o,n,a,r;if(e.noParse)return t;if(0<t.length&&"object"==typeof t[0]&&null!==t[0]&&!t[0].hasOwnProperty("screen")&&!pi.util.isArray(t[0])&&!pi.util.isDomElement(t[0])){for(n=t[0],r=!(a=[]),o=0;o<e.parameters.length;o++)n.hasOwnProperty(e.parameters[o])?(a.push(n[e.parameters[o]]),r=!0):a.push(null);if(r)return a}return t}function g(e,t){return null===i.activeScreen?("set"===t||i.log(t+": No screens available for command."),!1):(null==e&&(e=i.activeScreen.id),pi.util.isInteger(e)&&!i.screens[e]?(i.log(t+": Invalid screen id."),!1):i.screens[e])}function l(){var e,t;if("loading"!==document.readyState&&0===n)for(o=!1,t=a.slice(),a=[],e=0;e<t.length;e++)t[e]();else clearTimeout(r),r=setTimeout(l,10)}function m(e){var t,o;t=e[0],pi.util.isInteger(t)?o=t:t&&pi.util.isInteger(t.id)&&(o=t.id),i.screens[o]?i.activeScreen=i.screens[o]:i.log("screen: Invalid screen.")}function h(e){var t;t=e[0],!isNaN(Number(t))&&i.defaultPalette.length>t?i.defaultColor=t:null===(t=pi.util.convertToColor(t))&&i.log("setDefaultColor: invalid color value for parameter color.")}function f(e){var t,o;if(t=e[0],pi.util.isArray(t)){for(t.length<1&&i.log("setDefaultPal: parameter pal must have at least one color value."),i.defaultPalette=[],1<t.length?i.defaultColor=1:i.defaultColor=0,o=0;o<t.length;o++)null===pi.util.convertToColor(t[o])?(i.log("setDefaultPal: invalid color value inside array pal."),i.defaultPalette.push(pi.util.convertToColor("#000000"))):i.defaultPalette.push(pi.util.convertToColor(t[o]));i.defaultPalette[0]=pi.util.convertToColor([i.defaultPalette[0].r,i.defaultPalette[0].g,i.defaultPalette[0].b,0])}else i.log("setDefaultPal: parameter pal is not an array.")}function v(e){var t=e[0];"string"==typeof t&&(t=document.getElementById(t)),t&&pi.util.canAddEventListeners(t)?(0<=t.tabIndex||(t.tabIndex=0),i.defaultInputFocus=t,i.commands.reinitGamepads(),i.commands.reinitKeyboard()):i.log("setDefaultInputFocus: Invalid argument element. Element must be a DOM element or a string id of a DOM element.")}function p(e){var t;if("log"===(t=e[0]))i.log=y;else if("throw"===t)i.log=C;else{if("none"!==t)return void i.log("setErrorMode: mode must be one of the following strings: log, throw, none.");i.log=b}}function y(e){console.error(e)}function C(e){throw e}function b(){}return o=!1,a=[],s=[],i={nextScreenId:r=n=0,screens:{},activeScreen:null,images:{},imageCount:0,defaultPrompt:String.fromCharCode(219),defaultFont:{},nextFontId:0,fonts:{},defaultPalette:[],defaultColor:7,commands:{},screenCommands:{},defaultPenDraw:null,pens:{},penList:[],blendCommands:{},blendCommandsList:[],defaultBlendCmd:null,settings:{},settingsList:[],volume:.75,log:y,isTouchScreen:!1,defaultInputFocus:window},e={_:{addCommand:c,addCommands:function(e,o,n,t){c(e,function(e,t){(e.pixelMode?o:n)(e,t)},!1,!0,t)},addSetting:t,processCommands:function(){var e;for(s=s.sort(function(e,t){var o=e.name.toUpperCase(),n=t.name.toUpperCase();return o<n?-1:n<o?1:0}),e=0;e<s.length;e++)d(s[e])},addPen:function(e,t,o){i.penList.push(e),i.pens[e]={cmd:t,cap:o}},addBlendCommand:function(e,t){i.blendCommandsList.push(e),i.blendCommands[e]=t},data:i,resume:function(){0==--n&&l()},wait:function(){n++,o=!0}}},c("parseOptions",u,!0,!1),c("getScreenData",g,!0,!1,[]),c("ready",function(e){var t;t=e[0],pi.util.isFunction(t)&&(o?a.push(t):"loading"===document.readyState?(a.push(t),clearTimeout(r),r=setTimeout(l,10)):t())},!1,!1,["fn"]),c("setScreen",m,!1,!1,["screen"]),t("screen",m,!1,["screen"]),c("removeAllScreens",function(){var e;for(e in i.screens)i.screens[e].screenObj.removeScreen();i.nextScreenId=0},!1,!1,[]),c("getScreen",function(e){var t;return t=e[0],g(t,"getScreen").screenObj},!1,!1,["screenId"]),c("setDefaultColor",h,!1,!1,["color"]),t("defaultColor",h,!1,["color"]),c("setDefaultPal",f,!1,!1,["pal"]),t("defaultPal",f,!1,["pal"]),c("getDefaultPal",function(e){var t,o;for(o=[],t=0;t<i.defaultPalette.length;t++)i.defaultPalette[t].r,i.defaultPalette[t].g,i.defaultPalette[t].b,i.defaultPalette[t].a,i.defaultPalette[t].s,o.push(i.defaultPalette[t]);return o},!1,!1,[]),c("setDefaultInputFocus",v,!1,!1,["element"]),t("defaultInputFocus",v,!1,["element"]),c("set",function(e,t){var o,n,a,r;for(n in o=t[0])i.settings[n]&&(a=i.settings[n],r=o[n],r=pi.util.isArray(r)||"object"!=typeof r?[r]:u(a,[r]),a.isScreen?(e=e||g(void 0,"set "+a.name),a.fn(e,r)):a.fn(r))},!1,!0,i.settingsList,!0),c("setErrorMode",p,!1,!1,["mode"]),t("errorMode",p,!1,["mode"]),e}(),window.pi.util=function(){"use strict";function a(e){var t,o,n,a,r;return n=4===(r=e).length?(t=16*parseInt(e.slice(1,2),16)-1,o=16*parseInt(e.slice(2,3),16)-1,16*parseInt(e.slice(3,4),16)-1):(t=parseInt(e.slice(1,3),16),o=parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16)),{r:t,g:o,b:n,a:a=9===e.length?(r=e.slice(0,7),parseInt(e.slice(7,9),16)):255,s:"rgba("+t+","+o+","+n+","+Math.round(a/255*1e3)/1e3+")",s2:r}}function r(e){pi.util.isInteger(e)||(e=Math.round(e)),e=o(e,0,255);var t=Number(e).toString(16);return t.length<2&&(t="0"+t),t.toUpperCase()}function i(e,t,o,n){return isNaN(n)&&(n=255),"#"+r(e)+r(t)+r(o)+r(n)}function n(e,t,o,n){return a(i(e,t,o,n))}function t(e){var t,o;return(t=document.createElement("canvas").getContext("2d",{willReadFrequently:!0})).fillStyle=e,t.fillRect(0,0,1,1),n((o=t.getImageData(0,0,1,1).data)[0],o[1],o[2],o[3])}function o(e,t,o){return Math.min(Math.max(e,t),o)}function u(e,t,o){var n,a;for("string"!=typeof o&&(o=" "),n=(e+=a="").length;n<t;n++)a+=o;return a+e}var e={binarySearch:function(e,t,o){var n,a,r,i;for(n=0,a=e.length-1;n<=a;)if(0<(i=o(t,e[r=a+n>>1],r)))n=1+r;else{if(!(i<0))return r;a=r-1}return-n-1},canAddEventListeners:function(e){return"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener},checkColor:function(e){var t=(new Option).style;return t.color=e,""!==t.color},clamp:o,colorStringToHex:function(e){return t(e).s2},compareColors:function(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a},convertToArray:function(e){var t,o;for(t in o=[],e)e.hasOwnProperty(t)&&o.push(e[t]);return o},convertToColor:function(e){return void 0===e?null:pi.util.isArray(e)&&2<e.length?n(e[0],e[1],e[2],e[3]):pi.util.isInteger(e.r)&&pi.util.isInteger(e.g)&&pi.util.isInteger(e.b)?n(e.r,e.g,e.b,e.a):"string"!=typeof e?null:/(^#[0-9A-F]{8}$)|(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)?a(e):0===e.indexOf("rgb")?(e=function(e){var t,o,n,a;for(e=e.slice(e.indexOf("(")+1,e.indexOf(")")),t=e.split(","),n=[],o=0;o<t.length;o++)a=3===o?255*parseFloat(t[o].trim()):parseInt(t[o].trim()),n.push(a);return n}(e)).length<3?null:n(e[0],e[1],e[2],e[3]):t(e)},copyProperties:function(e,t){var o;for(o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},cToHex:r,dataToHex:function(e){var t,o,n,a;for(n=a="",o=0;o<e.length;o++)for(t=0;t<e[o].length;t++)4===(n+=e[o][t]).length&&(a+=parseInt(n,2).toString(16),n="");return a},degreesToRadian:function(e){return e*(Math.PI/180)},deleteProperties:function(e){var t;for(t in e)e.hasOwnProperty(t)&&delete e[t]},getInt:function(e,t){return e=parseInt(e),isNaN(e)&&(e=t),e},getWindowSize:function(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},hexToColor:a,hexToData:function(e,t,o){var n,a,r,i,s,c,d;for(e=e.toUpperCase(),r=[],i="",a=d=c=0;a<o;a++)for(r.push([]),n=0;n<t;n++)d>=i.length&&(s=parseInt(e[c],16),isNaN(s)&&(s="0000"),i=u(s.toString(2),4,"0"),c+=1,d=0),r[a].push(parseInt(i[d])),d+=1;return r},inRange:function(e,t){return e.x>=t.x&&e.x<t.x+t.width&&e.y>=t.y&&e.y<t.y+t.height},inRange2:function(e,t,o,n,a,r){return o<=e&&e<o+a&&n<=t&&t<n+r},isArray:Array.isArray,isDomElement:function(e){return e instanceof Element},isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isInteger:Number.isInteger,math:{deg30:Math.PI/6,deg45:Math.PI/4,deg60:Math.PI/3,deg90:Math.PI/2,deg120:2*Math.PI/3,deg135:3*Math.PI/4,deg150:5*Math.PI/6,deg180:Math.PI,deg210:7*Math.PI/6,deg225:5*Math.PI/4,deg240:4*Math.PI/3,deg270:3*Math.PI/2,deg300:5*Math.PI/3,deg315:7*Math.PI/4,deg330:11*Math.PI/6,deg360:2*Math.PI},pad:function(e,t,o){for("string"==typeof o&&0!==o.length||(o=" "),e+="";e.length<t;)e=o+e+o;return e.length>t&&(e=e.substr(0,t)),e},padL:u,padR:function(e,t,o){var n;for("string"!=typeof o&&(o=" "),n=(e+="").length;n<t;n++)e+=o;return e},queueMicrotask:function(e){window.queueMicrotask(e)},radiansToDegrees:function(e){return e*(180/Math.PI)},rgbToColor:n,rgbToHex:i,rndRange:function(e,t){return Math.random()*(t-e)+e}};return"function"!=typeof Number.isInteger&&(e.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),"function"!=typeof Array.isArray&&(e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),"function"!=typeof window.queueMicrotask&&(e.queueMicrotask=function(e){setTimeout(e,0)}),e}(),function(){"use strict";var f,i,s,c,d,u,v,g,p,y,l,m,h,C,b,w,e,x,k,t;function j(){e||((t=f.defaultInputFocus).addEventListener("keyup",n),t.addEventListener("keydown",a),t.addEventListener("blur",r),e=!0)}function o(){e&&((t=t||f.defaultInputFocus).removeEventListener("keyup",n),t.removeEventListener("keydown",a),t.removeEventListener("blur",r),e=!1)}function n(e){var t,o,n,a,r;if(t=c[e.key+"_"+e.location],i[t]=!1,s[e.key]=!1,d[e.keyCode]=!1,(u[t]||u[e.keyCode]||u[e.key])&&(e.preventDefault(),e.stopPropagation()),t=c[e.key+"_"+e.location],o="up_"+D((r={key:e.key,location:e.location,code:t,keyCode:e.keyCode}).key),C[o])for(a=C[o].slice(),n=0;n<a.length;n++)a[n].fn(r);if(b.up)for(a=b.up.slice(),n=0;n<a.length;n++)a[n].fn(r)}function a(e){var t,o,n,a,r;if(0<v.length&&P(e),t=c[e.key+"_"+e.location],o={key:e.key,location:e.location,code:t,keyCode:e.keyCode},i[t]=o,s[o.key]=o,d[e.keyCode]=o,(u[t]||u[e.keyCode]||u[e.key])&&(e.preventDefault(),e.stopPropagation()),r="down_"+D(o.key),C[r])for(a=C[r].slice(),n=0;n<a.length;n++)a[n].fn(o);if(b.down)for(a=b.down.slice(),n=0;n<a.length;n++)a[n].fn(o)}function r(){var e,t,o;for(e in i)i[e]=!1;for(e in s)s[e]=!1;for(e in d)d[e]=!1;for(e in x)for(t=0;t<x[e].length;t++)for(o=0;o<x[e][t].allKeys.length;o++)x[e][t].allKeys[o]=!1}function _(e){var o,n,a,r,i;if(o=e[0],n=e[1],a=e[2],r=!!e[3],null==n&&(n="down"),k.util.isArray(o))return"down"!==n?void f.log("onkey: mode must be down when using a key combo."):void function(e,t,o){var n,a,r,i;i=e.join(""),a=[],r={keys:e.slice(),keyData:[],fn:t,allKeys:a},x[i]||(x[i]=[]);for(x[i].push(r),n=0;n<e.length;n++)F(e[n],n,a,t,o,r)}(o,a,r);isNaN(o)||"string"==typeof o?"down"===n||"up"===n?k.util.isFunction(a)?(j(),setTimeout(function(){var e,t;o=D(o),i=n+"_"+o,t=a,a=r?{fn:function(){M([o,n,t]),e()},tempFn:e=a}:{fn:t},"string"==typeof o&&"any"===o.toLowerCase()?b[n].push(a):(C[i]||(C[i]=[]),C[i].push(a))},1)):f.log("onkey: fn is not a valid function."):f.log("onkey: mode needs to be down or up. "):f.log("onkey: key needs to be either an interger keyCode or a string key name.")}function F(t,o,n,a,r,e){function i(e){n[o]=!0,-1===n.indexOf(!1)&&(r&&(M([t,"down",i]),M([t,"up",s])),a(e))}function s(e){n[o]=!1}e.keyData.push({key:t,keyComboDown:i,keyComboUp:s}),n.push(!1),_([t,"down",i,!1]),_([t,"up",s,!1])}function D(e){return"string"==typeof e&&1===e.length&&("0"<=(e=e.toUpperCase())&&e<="9"?e="Digit"+e:"A"<=e&&e<="Z"&&(e="Key"+e)),e}function M(e){var t,o,n,a,r,i,s;if(t=e[0],o=e[1],n=e[2],k.util.isArray(t))return"down"!==o?void f.log("onkey: mode must be up when using a key combo."):void function(e,t){var o,n,a,r,i,s;for(o=e.join(""),n=x[o],r=n.length-1;0<=r;r--)if((a=n[r]).fn===t){for(i=0;i<a.keyData.length;i++)M([(s=a.keyData[i]).key,"down",s.keyComboDown,!1]),M([s.key,"up",s.keyComboUp,!1]);n.splice(r,1)}}(t,n);if(isNaN(t)||"string"==typeof t)if(null==o&&(o="down"),"down"===o||"up"===o)if(k.util.isFunction(n)){if(s=o+"_"+(t=D(t)),a=!1,k.util.isFunction(n)||(a=!0),"string"==typeof t&&"any"===t.toLowerCase())if(a)b[o]=[];else for(r=b[o].length-1;0<=r;r--)b[o][r].fn!==n&&b[o][r].tempFn!==n||b[o].splice(r,1);else if(C[s])if(i=C[s],a)C[s]=[];else for(r=i.length-1;0<=r;r--)i[r].fn!==n&&i[r].tempFn!==n||i.splice(r,1)}else f.log("offkey: fn is not a valid function.");else f.log("offkey: mode needs to be down or up. ");else f.log("offkey: key needs to be either an interger keyCode or a string key name.")}function N(e){var t,o;t=e[0],o=null==e[1]||!!e[1],"string"==typeof t||k.util.isInteger(t)?o?u[t]=!0:delete u[t]:f.log("setActionKey: key must be a string or integer")}function I(e,t){var o,n,a,r,i,s;0<v.length&&g<v.length?(S(s=v[g]),""===s.val&&s.isNumber&&s.isNegative&&!s.isPositive&&(s.val="-"),o=s.prompt+s.val,500<(new Date).getTime()-p&&(l=!l,p=(new Date).getTime()),l&&!t&&(o+=e.printCursor.prompt),(n=f.commands.getPos(s.screenData)).row>=f.commands.getRows(s.screenData)&&(f.commands.print(s.screenData,["",!1]),f.commands.setPos(s.screenData,[n.col,n.row-1]),n=f.commands.getPos(s.screenData)),a=f.commands.getPosPx(s.screenData),r=(o.length+1)*e.printCursor.font.width,i=e.printCursor.font.height,m?h<r?(f.commands.put(s.screenData,[m,a.x,a.y,!0]),m=f.commands.get(s.screenData,[a.x,a.y,a.x+r,a.y+i])):f.commands.put(s.screenData,[m,a.x,a.y,!0]):m=f.commands.get(s.screenData,[a.x,a.y,a.x+r,a.y+i]),h=r,f.commands.print(s.screenData,[o,!0]),f.commands.setPos(s.screenData,[n.col,n.row]),f.commands.render(s.screenData),s.showKeyboard&&s.keyboardHidden&&(E(e,s),s.keyboardHidden=!1)):(clearInterval(y),m=null,h=0)}function E(e,t){var o,n,a,r,i,s,c,d,u;if(t.isNumber?(w.keyCase="numbers",w.format=w.formats[1]):"numbers"===w.keyCase&&(w.keyCase="lowercase",w.format=w.formats[0]),r=w.keys[w.keyCase],o=f.commands.getPos(e),f.commands.setPos(e,[0,o.row+1]),u=e.printCursor.font,i=o.col*u.width,s=(o.row+1)*u.height,c=w.format[0].length*u.width,d=w.format.length*u.height,w.background?f.commands.put(e,[w.background,i,s,!0]):w.background=f.commands.get(e,[i,s,i+c,s+d]),n=f.commands.printTable(e,[r,w.format]),f.commands.setPos(e,[o.col,o.row]),!w.eventsLoaded){for(f.isTouchScreen&&(t.keyboardDetected=!1),a=0;a<n.length;a++)f.commands.onpress(e,["down",A,!1,n[a].pixels,{index:a,screenData:e,pixels:n[a].pixels,input:t}]);w.eventsLoaded=!0,w.hitBoxes=n}}function A(e,t){var o,n,a;t.input.keyboardDetected?t.input.keyboardDetected=!1:(a=t.index,o=w.keys2[a][w.keyCase],w.lookup[o]?(n=w.lookup[o].keyCode,o=w.lookup[o].key):n=0,"+/-"===o&&(o=0===t.input.val.length||"-"!==t.input.val.charAt(0)?"-":"+"),"SYMBOLS"===o?w.keyCase="symbol":"CapsLock"===o?w.isLowerCase?(w.keyCase="uppercase",w.isLowerCase=!1):(w.isLowerCase=!0,w.keyCase="lowercase"):P({key:o,keyCode:n}),"Enter"===o?I(t.screenData,!0):(E(t.screenData,t.input),f.commands.setColor(t.screenData,[15]),f.commands.rect(t.screenData,[t.pixels.x,t.pixels.y,t.pixels.width+1,t.pixels.height+1]),f.commands.setColor(t.screenData,[7])))}function S(e){f.isTouchScreen&&"auto"===e.onscreenKeyboard&&!1===e.showKeyboard&&(e.showKeyboard=!0,e.keyboardDetected=!0)}function P(e){var t,o,n,a,r,i,s;if(o=!1,t=v[g],13===e.keyCode)I(t.screenData,!0),t.showKeyboard&&(n=t.screenData,a=f.commands.getPos(n),r=n.printCursor.font,i=a.col*r.width,s=(a.row+1)*r.height,f.commands.put(n,[w.background,i,s,!0]),function(e){var t,o;if(t=w.hitBoxes,w.eventsLoaded)for(o=0;o<t.length;o++)f.commands.offpress(e,["down",A,!1,t[o].pixels]);w.eventsLoaded=!1}(t.screenData)),f.commands.print(t.screenData,[""]),function(e){var t,o;for(function(e){e.isNumber&&(""===e.val?isNaN(e.min)?e.val=0:e.val=e.min:e.val=Number(e.val))}(e),o=e.readyList.slice(),t=0;t<o.length;t++)o[t](e.val);e.promiseData.resolve(e.val)}(t),(g+=1)>=v.length&&(v=[],g=0);else if(8===e.keyCode)0<t.val.length&&(o=!0);else if(e.key&&1===e.key.length){if(t.isNumber&&t.isPositive&&t.isNegative){if("-"===e.key&&(0===t.val.length||"-"!==t.val.charAt(0)))return void(t.val="-"+t.val);if("+"===e.key&&0<t.val.length&&"-"===t.val.charAt(0))return void(t.val=t.val.substr(1))}t.val+=e.key,t.isNumber&&(isNaN(Number(t.val))||null!==t.max&&Number(t.val)>t.max||null!==t.min&&Number(t.val)<t.min||t.isInteger&&"."===e.key)&&(o=!0)}o&&(t.val=t.val.substring(0,t.val.length-1))}function L(e,t){var o,n,a,r;if(o=t[0],k.util.isInteger(o)&&(o=String.fromCharCode(o)),"string"==typeof o){if("pixel"===(n=e.printCursor.font).mode){for(r=!1,a=0;a<n.chars.length;a++)if(-1===n.chars.indexOf(o.charCodeAt(a))){r=!0;break}if(r)return void f.log("setInputCursor: font does not contain the cursor character.")}e.printCursor.prompt=o}else f.log("setInputCursor: cursor must be a string or integer.")}k=window.pi,f=k._.data,c={Alt_1:"AltLeft",Alt_2:"AltRight",ArrowDown_0:"ArrowDown",ArrowLeft_0:"ArrowLeft",ArrowRight_0:"ArrowRight",ArrowUp_0:"ArrowUp","\\_0":"Backslash","|_0":"Backslash","~_0":"Backquote","`_0":"Backquote",Backspace_0:"Backspace","[_0":"BracketLeft","{_0":"BracketLeft","]_0":"BracketRight","}_0":"BracketRight",CapsLock_0:"CapsLock",ContextMenu_0:"ContextMenu",Control_1:"ControlLeft",Control_2:"ControlRight",",_0":"Comma","<_0":"Comma",Delete_0:"Delete",")_0":"Digit0","0_0":"Digit0","1_0":"Digit1","!_0":"Digit1","2_0":"Digit2","@_0":"Digit2","3_0":"Digit3","#_0":"Digit3","4_0":"Digit4",$_0:"Digit4","5_0":"Digit5","%_0":"Digit5","6_0":"Digit6","^_0":"Digit6","7_0":"Digit7","&_0":"Digit7","8_0":"Digit8","*_0":"Digit8","9_0":"Digit9","(_0":"Digit9",End_0:"End",Enter_0:"Enter","+_0":"Equal","=_0":"Equal",Escape_0:"Escape",F1_0:"F1",F2_0:"F2",F3_0:"F3",F4_0:"F4",F5_0:"F5",F6_0:"F6",F7_0:"F7",F8_0:"F8",F9_0:"F9",F10_0:"F10",F11_0:"F11",F12_0:"F12",Home_0:"Home",Insert_0:"Insert",a_0:"KeyA",A_0:"KeyA",b_0:"KeyB",B_0:"KeyB",c_0:"KeyC",C_0:"KeyC",d_0:"KeyD",D_0:"KeyD",e_0:"KeyE",E_0:"KeyE",f_0:"KeyF",F_0:"KeyF",g_0:"KeyG",G_0:"KeyG",h_0:"KeyH",H_0:"KeyH",i_0:"KeyI",I_0:"KeyI",j_0:"KeyJ",J_0:"KeyJ",k_0:"KeyK",K_0:"KeyK",l_0:"KeyL",L_0:"KeyL",m_0:"KeyM",M_0:"KeyM",n_0:"KeyN",N_0:"KeyN",o_0:"KeyO",O_0:"KeyO",p_0:"KeyP",P_0:"KeyP",q_0:"KeyQ",Q_0:"KeyQ",r_0:"KeyR",R_0:"KeyR",S_0:"KeyS",s_0:"KeyS",t_0:"KeyT",T_0:"KeyT",u_0:"KeyU",U_0:"KeyU",v_0:"KeyV",V_0:"KeyV",w_0:"KeyW",W_0:"KeyW",x_0:"KeyX",X_0:"KeyX",y_0:"KeyY",Y_0:"KeyY",z_0:"KeyZ",Z_0:"KeyZ",Meta_1:"MetaLeft",Meta_2:"MetaRight",__0:"Minus","-_0":"Minus",NumLock_0:"NumLock","0_3":"Numpad0",Insert_3:"Numpad0","1_3":"Numpad1",End_3:"Numpad1","2_3":"Numpad2",ArrowDown_3:"Numpad2","3_3":"Numpad3",PageDown_3:"Numpad3","4_3":"Numpad4",ArrowLeft_3:"Numpad4","5_3":"Numpad5",Clear_3:"Numpad5","6_3":"Numpad6",ArrowRight_3:"Numpad6","7_3":"Numpad7",Home_3:"Numpad7","8_3":"Numpad8",ArrowUp_3:"Numpad8","9_3":"Numpad9",PageUp_3:"Numpad9","+_3":"NumpadAdd","._3":"NumpadDecimal",Delete_3:"NumpadDecimal","/_3":"NumpadDivide",Enter_3:"NumpadEnter","*_3":"NumpadMultiply","-_3":"NumpadSubtract",PageDown_0:"PageDown",PageUp_0:"PageUp",Cancel_0:"Pause",Pause_0:"Pause","._0":"Period",">_0":"Period",PrintScreen_0:"PrintScreen","'_0":"Quote",'"_0':"Quote",ScrollLock_0:"ScrollLock",";_0":"Semicolon",":_0":"Semicolon",Shift_1:"ShiftLeft",Shift_2:"ShiftRight","/_0":"Slash","?_0":"Slash"," _0":"Space",Tab_0:"Tab"},i={},d={},s={},u={},v=[],g=0,C={},b={down:[],up:[]},x={},(w={lookup:{BS:{val:String.fromCharCode(27)+" BACK"},CP:{val:String.fromCharCode(24)+" CAPS"},CP2:{val:String.fromCharCode(25)+" CAPS"},ENTER:{val:String.fromCharCode(17)+String.fromCharCode(217)+"RET"},SY:{val:" SYMBOLS"},NU:{val:""},PM:{val:"+/-"}},keys:{lowercase:"1 2 3 4 5 6 7 8 9 0 BS q w e r t y u i o p CP a s d f g h j k l SY z x c SPACE v b n m ENTER".split(/\s+/),uppercase:"1 2 3 4 5 6 7 8 9 0 BS Q W E R T Y U I O P CP2 A S D F G H J K L SY Z X C SPACE V B N M ENTER".split(/\s+/),symbol:"~ ! @ # $ % ^ & * | BS ( ) { } [ ] < > \\ / CP ` \" ' , . ; : ? _ SY + - NU NU NU NU NU NU ENTER".split(/\s+/),numbers:"1  2 3  4  5  6  7  8  9  0     BS PM . ENTER ".split(/\s+/)},keys2:[],formats:[["*-*-*-*-*-*-*-*-*-*-*------*","| | | | | | | | | | |      |","*-*-*-*-*-*-*-*-*-*-*------*","| | | | | | | | | | |      |","*-*-*-*-*-*-*-*-*-*-*------*","| | | | | | | | | |        |","*-*-*-*-*-*-*-*-*-*-*------*","| | | |     | | | | |      |","*-*-*-*-----*-*-*-*-*------*"],["*-*-*-*-*-*-*-*-*-*-*------*","| | | | | | | | | | |      |","*-*-*-*-*-*-*-*-*-*-*------*","|     | |                  |","*-----*-*------------------*"]],keyCase:"lowercase",background:null,eventsLoaded:!1,isLowerCase:!0,format:null}).format=w.formats[0],e=!1,t=null,function(){var e,t,o,n,a,r,i,s,c;for(e=["lowercase","uppercase","symbol","numbers"],n=0;n<e.length;n++)for(a=0;a<w.keys[e[n]].length;a++)t=w.keys[e[n]],o=t[a],w.lookup[o]&&(t[a]=w.lookup[o].val);for(w.lookup[String.fromCharCode(27)+" BACK"]={key:"Backspace",keyCode:8},w.lookup[String.fromCharCode(24)+" CAPS"]={key:"CapsLock",keyCode:20},w.lookup[String.fromCharCode(25)+" CAPS"]={key:"CapsLock",keyCode:20},w.lookup[String.fromCharCode(17)+String.fromCharCode(217)+"RET"]={key:"Enter",keyCode:13},w.lookup[" SYMBOLS"]={key:"SYMBOLS",keyCode:0},w.lookup.SPACE={key:" ",keyCode:32},n=0;n<w.keys.lowercase.length;n++)r=w.keys.lowercase[n],i=w.keys.uppercase[n],s=w.keys.symbol[n],c=n<w.keys.numbers.length?w.keys.numbers[n]:null,w.keys2.push({lowercase:r,uppercase:i,symbol:s,numbers:c})}(),k._.addCommand("reinitKeyboard",function(){e&&(o(),j())},!0,!1,[]),k._.addCommand("startKeyboard",j,!1,!1,[]),k._.addCommand("stopKeyboard",o,!1,!1,[]),k._.addCommand("clearKeys",function(){var e,t;for(e in C)for(t=C[e].length-1;0<=t;t--)C[e].splice(t,1);for(e in b)for(t=b[e].length-1;0<=t;t--)b[e].splice(t,1)},!1,!1,[]),k._.addCommand("inkey",function(e){var t,o,n;if(t=e[0],j(),null!=t)return i[t]?i[t]:s[t]?s[t]:d[t];for(n in o={},i)i[n]&&(o[n]=i[n]);return o},!1,!1,["key"]),k._.addCommand("onkey",_,!1,!1,["key","mode","fn","once"]),k._.addCommand("offkey",M,!1,!1,["key","mode","fn"]),k._.addCommand("setActionKey",N,!1,!1,["key","isEnabled"]),k._.addSetting("actionKey",N,!1,["key","isEnabled"]),k._.addCommand("input",function(e,t){var o,n,a,r,i,s,c,d,u,g,l,m,h;o=t[0],n=t[1],a=!!t[2],r=!!t[3],u=t[4],i=t[5],h={},m=new Promise(function(e,t){h.resolve=e,h.reject=t}),null==o&&(o="");if("string"!=typeof o)return void f.log("input: prompt must be a string.");if(null!=n&&!k.util.isFunction(n))return void f.log("input: callback must be a function.");u=null==u||!!u;null==i&&(i="none");if("string"!=typeof i)return void f.log("input: onscreenKeyboard must be a string.");if(-1===(d=["auto","always","none"]).indexOf(i))return void f.log("input: onscreenKeyboard must be "+d.slice(0,2).join(", ")+" or none.");g=u?null:0;r&&(a=!0);l=null===g||g<0;"auto"===i&&f.commands.startTouch(e);j(),s=[],k.util.isFunction(n)&&s.push(n);c={prompt:o,isNumber:a,isInteger:r,isPositive:!0,isNegative:l,min:g,max:null,val:"",readyList:s,promiseData:h,screenData:e,onscreenKeyboard:i,keyboardHidden:!0,showKeyboard:!1,keyboardDetected:!1},"always"===i?c.showKeyboard=!0:S(c);return v.push(c),p=(new Date).getTime(),y=setInterval(function(){I(e,!1)},100),m},!1,!0,["prompt","callback","isNumber","isInteger","allowNegative","onscreenKeyboard"]),k._.addCommand("cancelInput",function(e,t){var o;for(o=v.length-1;0<=o;o--)v.splice(o,1);clearInterval(y)},!1,!0,[]),k._.addCommand("setInputCursor",L,!1,!0,["cursor"]),k._.addSetting("inputCursor",L,!0,["cursor"])}(),function(){"use strict";var c,s,d,u,g,l,a,i,e,m;function h(){(e=c.defaultInputFocus).addEventListener("gamepadconnected",t),e.addEventListener("gamepaddisconnected",o),m=!0}function t(e){s[e.gamepad.index]=e.gamepad,e.gamepad.controllerIndex=d.length,d.push(e.gamepad),r(e.gamepad)}function o(e){d.splice(s[e.gamepad.index].controllerIndex,1),delete s[e.gamepad.index]}function f(e,t,o,n){var a,r;if(o=parseInt(o),!(isNaN(o)||o<0)){if("connect"===n||"disconnect"===n)t=null;else if("axis"===n){if(!i.util.isInteger(t)||t<0)return void c.log(e+": items is not a valid axis index.");t=[t]}else{if("string"==typeof t&&"any"===t.toLowerCase()?t=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]:!isNaN(parseInt(t))&&0<=t&&(t=[t]),!i.util.isArray(t))return void c.log(e+": items is not a valid array.");for(r=0;r<t.length;r++){if(t[r]=parseInt(t[r]),isNaN(t[r])||t[r]<0)return void c.log(e+": items contains an invalid button index.");t.sort(function(e,t){return e-t})}}return a="_"+o+":"+t.join("_"),{items:t,gamepadIndex:o,extraId:a}}c.log(e+": gamepadIndex is not a valid index number.")}function v(){l=!0,s&&(n(),function(){var e,t,o,n,a,r,i;for(e in u)for(t=u[e].slice(),i=0;i<t.length;i++)r=t[i],"connect"!==(a=r.extraData.mode)&&"disconnect"!==a&&((o=r.extraData.gamepadIndex)>=d.length||(n=r.extraData.items,"axis"===a?p(o,n[0],e):y(o,n,a,e)))}(),requestAnimationFrame(v))}function p(e,t,o){var n;(n=d[e].axes2).length>t&&(n[t]>a||n[t]<-a)&&c.commands.triggerEventListeners(o,n[t],u)}function y(e,t,o,n){var a,r,i;for(a=d[e].buttons,r=0;r<t.length;r++)if(i=a[t[r]]){if(i.index=t[r],i.pressed&&"pressed"===o){c.commands.triggerEventListeners(n,i,u);break}if(i.touched&&"touched"===o){c.commands.triggerEventListeners(n,i,u);break}if(i.pressReleased&&"pressReleased"===o){c.commands.triggerEventListeners(n,i,u);break}if(i.touchReleased&&"touchReleased"===o){c.commands.triggerEventListeners(n,i,u);break}}}function n(){var e,t;t="getGamepads"in navigator?navigator.getGamepads():"webkitGetGamepads"in navigator?navigator.webkitGetGamepads():[];for(e=0;e<t.length;e++)t[e]&&t[e].index in s&&r(t[e])}function r(e){var t,o,n,a,r,i;for(o=(n=s[e.index]).controllerIndex,e.controllerIndex=o,a=n.buttons,t=0;t<a.length;t++)r=a[t],i=e.buttons[t],r.pressed&&!i.pressed?i.pressReleased=!0:i.pressReleased=!1,r.touched&&!i.touched?i.touchReleased=!0:i.touchReleased=!1;for(e.axes2=[],t=0;t<e.axes.length;t++)e.axes2.push(C(e.axes[t]));s[e.index]=e,d[o]=e}function C(e){return Math.abs(e)<a?0:(e-=Math.sign(e)*a,e/=1-a)}i=window.pi,c=i._.data,s={},d=[],u={},l=!(g=["connect","disconnect","axis","pressed","touched","pressReleased","touchReleased"]),m=!(a=.2),e=null,i._.addCommand("reinitGamepads",function(){m&&(e&&(e.removeEventListener("gamepadconnected",t),e.removeEventListener("gamepaddisconnected",o)),h())},!0,!1,[],!1),i._.addCommand("ingamepads",function(){m||h();s&&n();return d},!1,!1,[]),i._.addCommand("ongamepad",function(e){var t,o,n,a,r,i,s;m||h();if(r=e[0],t=e[1],o=e[2],n=e[3],a=!!e[4],s=e[5],!(i=f("ongamepad",o,r,t)))return;i.mode=t,c.commands.onevent(t,n,a,!1,g,"ongamepad",u,i.extraId,i,s),l||requestAnimationFrame(v)},!1,!1,["gamepadIndex","mode","item","fn","once","customData"]),i._.addCommand("offgamepad",function(e){var t,o,n,a,r;if(n=e[0],t=e[1],o=e[2],a=e[3],!(r=f("offgamepad",o,n,t)))return;c.commands.offevent(t,a,g,"offgamepad",u,r.extraId)},!1,!1,["gamepadIndex","mode","item","fn"])}(),function(){"use strict";var m,u,g,l;function e(e){var t;t=parseInt(e[0]),isNaN(t)||t<0||t<m.fonts.length?m.log("setDefaultFont: invalid fontId"):m.defaultFont=m.fonts[t]}function t(e,t){var o,n,a;o=t[0],m.fonts[o]?(n=m.fonts[o],e.printCursor.font=n,e.printCursor.cols=Math.floor(e.width/n.width),e.printCursor.rows=Math.floor(e.height/n.height)):"string"==typeof o&&(e.context.font=o,e.context.textBaseline="top",a=function(e){var t,o,n,a,r,i,s,c,d;for(e.font,t=e.measureText("M").width,t=Math.round(1.5*t),(o=document.createElement("canvas")).width=t,o.height=t,(n=o.getContext("2d",{willReadFrequently:!0})).font=e.font,n.textBaseline="top",n.fillStyle="#FF0000",s={width:0,height:0},a="HMIyjg_|",r=0;r<a.length;r++)n.fillText(a[r],0,0);for(a=n.getImageData(0,0,t,t),r=0;r<a.data.length;r+=4)255===a.data[r]&&(i=r/4,d=Math.floor(i/t),c=i-d*t,d>s.height&&(s.height=d),c>s.width&&(s.width=c));return s}(e.context),e.printCursor.font={name:e.context.font,width:a.width,height:a.height,mode:"canvas",printFunction:m.commands.canvasPrint,calcWidth:m.commands.canvasCalcWidth},e.printCursor.cols=Math.floor(e.width/a.width),e.printCursor.rows=Math.floor(e.height/a.height))}function o(e,t){var o,n;o=t[0],n=t[1],isNaN(o)?m.log("setFontSize: width must be a number."):isNaN(n)?m.log("setFontSize: height must be a number."):"bitmap"===e.printCursor.font.mode?(e.printCursor.font.width=o,e.printCursor.font.height=n):m.log("setFontSize: only bitmap fonts can change sizes.")}function n(e,t){var o,n,a,r;if(o=t[0],n=t[1],"pixel"===e.printCursor.font.mode)if(o="string"==typeof o?o.charCodeAt(o):Math.round(o),isNaN(o))m.log("setChar: code must be an integer or a string.");else{if("string"==typeof n)n=l.util.hexToData(n,e.printCursor.font.width,e.printCursor.font.height);else{if(!l.util.isArray(n))return void m.log("setChar: data must either be a string or an array.");if(n.length!==e.printCursor.font.height)return void m.log("setChar: data array is the wrong length.");for(a=0;a<n.length;a++){if(n[a].length!==e.printCursor.font.width)return void m.log("setChar: data array is the wrong length.");for(r=0;r<n[a].length;r++)if(!l.util.isInteger(n[a][r]))return void m.log("setChar: data array contians the wrong data.")}}e.printCursor.font.data[o]=n}else m.log("setChar: only pixel fonts can change characters.")}l=window.pi,m=l._.data,u=l._.wait,g=l._.resume,l._.addCommand("loadFont",function(e){var t,o,n,a,r,i,s,c,d;if(t=e[0],o=Math.round(e[1]),n=Math.round(e[2]),a=e[3],r=!!e[4],isNaN(o)||isNaN(n))return void m.log("loadFont: width and height must be integers.");if(!a)for(a=[],c=0;c<256;c+=1)a.push(c);if(!l.util.isArray(a)&&"string"!=typeof a)return void m.log("loadFont: charSet must be an array or a string.");if("string"==typeof a){for(d=[],c=0;c<a.length;c+=1)d.push(a.charCodeAt(c));a=d}for(s={},c=0;c<a.length;c+=1)s[a[c]]=c;i={id:m.nextFontId,width:o,height:n,data:[],chars:s,charSet:a,colorCount:2,mode:"pixel",printFunction:m.commands.piPrint,calcWidth:m.commands.piCalcWidth,image:null,sWidth:o,sHeight:n},r||(i.mode="bitmap",i.printFunction=m.commands.bitmapPrint);m.fonts[i.id]=i,m.nextFontId+=1,r?function(e,t,o,n){n.data=function(e,t,o){var n,a,r,i,s,c,d,u,g,l;for(c=32,g=[],i=(e=(r="")+e).split(","),n=0;n<i.length;n++){for(s=parseInt(i[n],c).toString(2),a=s.length;a<32;a++)s="0"+s;r+=s}if(n=0,0<r.length%32)return void m.log("loadFont: Invalid font data.");for(;n<r.length;)for(g.push([]),l=g.length-1,u=0;u<o;u+=1)for(g[l].push([]),d=0;d<t;d+=1)n>=r.length?s=0:(s=parseInt(r[n]),isNaN(s)&&(s=0)),g[l][u].push(s),n+=1;return g}(e,t,o)}(t,o,n,i):function(e,t){var o;if("string"==typeof e)(o=new Image).src=e;else{if(!(e instanceof HTMLImageElement))return m.log("loadFont: fontSrc must be a string, image or canvas. ");o=e}o.complete?t.image=o:(u(),o.onload=function(){t.image=o,g()},o.onerror=function(e){m.log("loadFont: unable to load image for font."),g()})}(t,i);return i.id},!1,!1,["fontSrc","width","height","charSet","isEncoded"]),l._.addCommand("setDefaultFont",e,!1,!1,["fontId"]),l._.addSetting("defaultFont",e,!1,["fontId"]),l._.addCommand("setFont",t,!1,!0,["fontId"]),l._.addSetting("font",t,!0,["fontId"]),l._.addCommand("getAvailableFonts",function(){var e,t;for(e in t=[],m.fonts)t.push({id:m.fonts[e].id,width:m.fonts[e].width,height:m.fonts[e].height});return t},!1,!1,[]),l._.addCommand("setFontSize",o,!1,!0,["width","height"]),l._.addSetting("fontSize",o,!0,["width","height"]),l._.addCommand("setChar",n,!1,!0,["code","data"]),l._.addSetting("char",n,!0,["code","data"])}(),function(){"use strict";var m,h;function f(e,t,o,n){e[t]=function(){var e=m.commands.parseOptions(n,[].slice.call(arguments));return o.commands[t](o,e)}}function v(e,t,o,n,a,r,i,s){var c={};return c.id=m.nextScreenId,m.nextScreenId+=1,m.activeScreen=c,e.dataset.screenId=c.id,c.contextAttributes=s?{willReadFrequently:!0}:{},c.canvas=e,c.width=e.width,c.height=e.height,c.container=o,c.aspectData=n,c.isOffscreen=a,c.isNoStyles=r,c.context=e.getContext("2d",c.contextAttributes),c.bufferCanvas=t,c.bufferContext=c.bufferCanvas.getContext("2d",c.contextAttributes),c.dirty=!1,c.isAutoRender=!0,c.autoRenderMicrotaskScheduled=!1,c.x=0,c.y=0,c.angle=0,c.pal=m.defaultPalette.slice(),c.fColor=c.pal[m.defaultColor],c.context.fillStyle=c.fColor.s,c.context.strokeStyle=c.fColor.s,c.mouseStarted=!1,c.touchStarted=!1,c.printCursor={x:0,y:0,font:m.defaultFont,rows:Math.floor(e.height/m.defaultFont.height),cols:Math.floor(e.width/m.defaultFont.width),prompt:m.defaultPrompt,breakWord:!0},c.clientRect=e.getBoundingClientRect(),c.mouse={x:-1,y:-1,buttons:0,lastX:-1,lastY:-1},c.touches={},c.lastTouches={},c.pixelMode=!0,c.pen={draw:m.defaultPenDraw,size:1},c.blendPixelCmd=m.defaultBlendCmd,c.context.imageSmoothingEnabled=!1,c.onMouseEventListeners={},c.onTouchEventListeners={},c.onPressEventListeners={},c.onClickEventListeners={},c.mouseEventListenersActive=0,c.touchEventListenersActive=0,c.pressEventListenersActive=0,c.clickEventListenersActive=0,c.lastEvent=null,c.isContextMenuEnabled=!0,c.resizeCallback=i,m.screens[c.id]=c}function p(e,t,o,n){var a,r,i,s,c,d,u,g,l,m;a=e.width,r=e.height,c=e.splitter,s=e.isMultiple&&":"!==c?(l=Math.floor(o/a),(g=(m=Math.floor(n/r))<l?m:l)<1&&(g=1),i=a*g,r*g):(s=o*(d=r/a),o<(i=n*(a/r))?(i=o)*d:n),t.style.width=Math.floor(i)+"px",t.style.height=Math.floor(s)+"px",t.style.marginLeft=Math.floor((o-i)/2)+"px",t.style.marginTop=Math.floor((n-s)/2)+"px","e"===c?(s=e.isMultiple?(i=(a=Math.floor(o/g))*g,(r=Math.floor(n/g))*g):(a+=Math.round(a/i*(o-i)),r+=Math.round(r/s*(n-s)),i=o,n),t.style.marginLeft=Math.floor((o-i)/2)+"px",t.style.marginTop=Math.floor((n-s)/2)+"px",t.style.width=i+"px",t.style.height=s+"px",t.width=a,t.height=r):"x"===c?(t.width=a,t.height=r):(u=y(t),t.width=u.width,t.height=u.height)}function y(e){var t,o,n,a,r;return t=getComputedStyle(e),o=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),n=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),a=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),r=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),{width:e.offsetWidth-o-a,height:e.offsetHeight-n-r}}h=window.pi,m=h._.data,h._.addCommand("screen",function(e){var t,o,n,a,r,i,s,c,d,u,g,l;if(t=e[0],o=e[1],n=e[2],a=!!e[3],r=e[4],i=e[5],null!=(s=e[6])&&!h.util.isFunction(s))return void m.log("screen: resizeCallback must be a function.");if("string"==typeof t&&""!==t){if(t=t.toLowerCase(),!(c=function(e){var t,o,n,a;-1<e.indexOf(":")?a=":":-1<e.indexOf("x")?a="x":e.indexOf("e")&&(a="e");if(n=e.split(a),t=Number(n[0]),isNaN(t)||0===t)return;if(o=Number(n[1]),isNaN(o)||0===o)return;return{width:t,height:o,splitter:a}}(t)))return void m.log("screen: invalid value for aspect.");c.isMultiple=!!i}if(n){if(!c)return void m.log("screen: You must supply an aspect ratio with exact dimensions for offscreen screens.");if("x"!==c.splitter)return void m.log("screen: You must use aspect ratio with e(x)act pixel dimensions such as 320x200 offscreen screens.");u=function(e,t){var o,n;return(o=document.createElement("canvas")).width=e.width,o.height=e.height,(n=document.createElement("canvas")).width=e.width,n.height=e.height,v(o,n,null,e,!0,!1,null,t)}(c,a)}else{if("string"==typeof o&&(o=document.getElementById(o)),o&&!h.util.isDomElement(o))return void m.log("screen: Invalid argument container. Container must be a DOM element or a string id of a DOM element.");u=r?function(e,t,o){var n,a,r;n=document.createElement("canvas"),a=document.createElement("canvas"),h.util.isDomElement(t)||(t=document.body);t.appendChild(n),e&&"x"===e.splitter?(n.width=e.width,n.height=e.height,a.width=n.width,a.height=n.height):(r=y(n),a.width=r.width,a.height=r.height);return v(n,a,t,e,!1,!0,null,o)}(c,o,a):function(e,t,o,n){var a,r,i,s;a=document.createElement("canvas"),r=document.createElement("canvas"),a.style.backgroundColor="black",a.style.position="absolute",a.style.imageRendering="pixelated",a.style.imageRendering="crisp-edges",s=!0,h.util.isDomElement(t)||(s=!1,document.documentElement.style.height="100%",document.documentElement.style.margin="0",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden",a.style.left="0",a.style.top="0",t=document.body);0===t.offsetHeight&&(t.style.height="200px");t.appendChild(a),e?(i=y(t),p(e,a,i.width,i.height),r.width=a.width,r.height=a.height):(s&&(a.style.position="static"),a.style.width="100%",a.style.height="100%",i=y(a),a.width=i.width,a.height=i.height,r.width=i.width,r.height=i.height);return v(a,r,t,e,!1,!1,o,n)}(c,o,s,a)}for(g in u.cache={findColor:{}},d={},u.commands={},m.screenCommands)l=m.screenCommands[g],u.commands[g]=l.fn,f(d,g,u,l);return(u.screenObj=d).id=u.id,d.screen=!0,d},!1,!1,["aspect","container","isOffscreen","willReadFrequently","noStyles","isMultiple","resizeCallback"]),m.defaultInputFocus.addEventListener("resize",function(){var e,t,o,n,a;for(e in m.screens)(t=m.screens[e]).isOffscreen||t.isNoStyles||null===t.canvas.offsetParent||(n={width:t.canvas.offsetWidth,height:t.canvas.offsetHeight},t.bufferContext.clearRect(0,0,t.width,t.height),t.bufferContext.drawImage(t.canvas,0,0),t.aspectData?(o=y(t.container),p(t.aspectData,t.canvas,o.width,o.height)):(o=y(t.canvas),t.canvas.width=o.width,t.canvas.height=o.height),t.clientRect=t.canvas.getBoundingClientRect(),t.context.drawImage(t.bufferCanvas,0,0,t.width,t.height),t.bufferCanvas.width=t.canvas.width,t.bufferCanvas.height=t.canvas.height,t.width=t.canvas.width,t.height=t.canvas.height,t.resizeCallback&&(a={width:t.canvas.offsetWidth,height:t.canvas.offsetHeight},n.width===a.width&&n.height===a.height||t.resizeCallback(n,a)))})}(),function(){"use strict";var s,e;function c(e){e.mouseStarted||(e.canvas.addEventListener("mousemove",t),e.canvas.addEventListener("mousedown",o),e.canvas.addEventListener("mouseup",n),e.canvas.addEventListener("contextmenu",a),e.mouseStarted=!0)}function t(e){var t;r(t=s.screens[e.target.dataset.screenId],e,"move"),0<t.mouseEventListenersActive&&s.commands.triggerEventListeners("move",i(t),t.onMouseEventListeners),0<t.pressEventListenersActive&&s.commands.triggerEventListeners("move",i(t),t.onPressEventListeners)}function o(e){var t;r(t=s.screens[e.target.dataset.screenId],e,"down"),0<t.mouseEventListenersActive&&s.commands.triggerEventListeners("down",i(t),t.onMouseEventListeners),0<t.pressEventListenersActive&&s.commands.triggerEventListeners("down",i(t),t.onPressEventListeners),0<t.clickEventListenersActive&&s.commands.triggerEventListeners("click",i(t),t.onClickEventListeners,"down")}function n(e){var t;r(t=s.screens[e.target.dataset.screenId],e,"up"),0<t.mouseEventListenersActive&&s.commands.triggerEventListeners("up",i(t),t.onMouseEventListeners),0<t.pressEventListenersActive&&s.commands.triggerEventListeners("up",i(t),t.onPressEventListeners),0<t.clickEventListenersActive&&s.commands.triggerEventListeners("click",i(t),t.onClickEventListeners,"up")}function a(e){if(!s.screens[e.target.dataset.screenId].isContextMenuEnabled)return e.preventDefault(),!1}function r(e,t,o){var n,a,r,i,s;n=e.clientRect,a=Math.floor((t.clientX-n.left)/n.width*e.width),r=Math.floor((t.clientY-n.top)/n.height*e.height),e.mouse&&(i=e.mouse.x?e.mouse.x:a,s=e.mouse.y?e.mouse.y:r),e.mouse={x:a,y:r,lastX:i,lastY:s,buttons:t.buttons,action:o},e.lastEvent="mouse"}function i(e){var t;return(t={}).x=e.mouse.x,t.y=e.mouse.y,t.lastX=e.mouse.lastX,t.lastY=e.mouse.lastY,t.buttons=e.mouse.buttons,t.action=e.mouse.action,t.type="mouse",t}function d(e,t){e.isContextMenuEnabled=!!t[0],c(e)}e=window.pi,s=e._.data,e._.addCommand("startMouse",c,!1,!0,[]),e._.addCommand("stopMouse",function(e){e.mouseStarted&&(e.canvas.removeEventListener("mousemove",t),e.canvas.removeEventListener("mousedown",o),e.canvas.removeEventListener("mouseup",n),e.canvas.removeEventListener("contextmenu",a),e.mouseStarted=!1)},!1,!0,[]),e._.addCommand("getMouse",i,!0,!0,[]),e._.addCommand("inmouse",function(e){return c(e),i(e)},!1,!0,[]),e._.addCommand("onmouse",function(e,t){var o,n,a,r,i;o=t[0],n=t[1],a=t[2],r=t[3],i=t[4],s.commands.onevent(o,n,a,r,["down","up","move"],"onmouse",e.onMouseEventListeners,null,null,i)&&(c(e),e.mouseEventListenersActive+=1)},!1,!0,["mode","fn","once","hitBox","customData"]),e._.addCommand("offmouse",function(e,t){var o,n;o=t[0],n=t[1],s.commands.offevent(o,n,["down","up","move"],"offmouse",e.onMouseEventListeners)&&(null==n?e.mouseEventListenersActive=0:(--e.mouseEventListenersActive,e.mouseEventListenersActive<0&&(e.mouseEventListenersActive=0)))},!1,!0,["mode","fn"]),e._.addCommand("setEnableContextMenu",d,!1,!0,["isEnabled"]),e._.addSetting("enableContextMenu",d,!0,["isEnabled"]),e._.addCommand("onpress",function(e,t){var o,n,a,r,i;o=t[0],n=t[1],a=t[2],r=t[3],i=t[4],s.commands.onevent(o,n,a,r,["down","up","move"],"onpress",e.onPressEventListeners,null,null,i)&&(s.commands.startMouse(e),s.commands.startTouch(e),e.pressEventListenersActive+=1)},!1,!0,["mode","fn","once","hitBox","customData"]),e._.addCommand("offpress",function(e,t){var o,n;o=t[0],n=t[1],s.commands.offevent(o,n,["down","up","move"],"offpress",e.onPressEventListeners)&&(null==n?e.pressEventListenersActive=0:(--e.pressEventListenersActive,e.pressEventListenersActive<0&&(e.pressEventListenersActive=0)))},!1,!0,["mode","fn"]),e._.addCommand("inpress",function(e){return s.commands.startMouse(e),s.commands.startTouch(e),"touch"===e.lastEvent?s.commands.getTouchPress(e):s.commands.getMouse(e)},!1,!0,[]),e._.addCommand("onclick",function(e,t){var o,n,a,r;o=t[0],n=t[1],a=t[2],r=t[3],null==a&&(a={x:0,y:0,width:s.commands.width(e),height:s.commands.height(e)});s.commands.onevent("click",o,n,a,["click"],"onclick",e.onClickEventListeners,null,null,r)&&(s.commands.startMouse(e),s.commands.startTouch(e),e.clickEventListenersActive+=1)},!1,!0,["fn","once","hitBox","customData"]),e._.addCommand("offclick",function(e,t){var o;o=t[0],s.commands.offevent("click",o,["click"],"offclick",e.onClickEventListeners)&&(null==o?e.clickEventListenersActive=0:(--e.clickEventListenersActive,e.clickEventListenersActive<0&&(e.clickEventListenersActive=0)))},!1,!0,["fn"])}(),function(){"use strict";var s,e;function c(e){e.touchStarted||(e.canvas.addEventListener("touchstart",t),e.canvas.addEventListener("touchmove",o),e.canvas.addEventListener("touchend",n),e.canvas.addEventListener("touchcancel",n),e.touchStarted=!0)}function t(e){var t;s.isTouchScreen=!0,null!=(t=s.screens[e.target.dataset.screenId])&&(a(t,e,"start"),0<t.touchEventListenersActive&&s.commands.triggerEventListeners("start",r(t),t.onTouchEventListeners),0<t.pressEventListenersActive&&(s.commands.triggerEventListeners("down",i(t),t.onPressEventListeners),e.preventDefault()),0<t.clickEventListenersActive&&s.commands.triggerEventListeners("click",i(t),t.onClickEventListeners,"down"))}function o(e){var t;null!=(t=s.screens[e.target.dataset.screenId])&&(a(t,e,"move"),0<t.touchEventListenersActive&&s.commands.triggerEventListeners("move",r(t),t.onTouchEventListeners),0<t.pressEventListenersActive&&s.commands.triggerEventListeners("move",i(t),t.onPressEventListeners))}function n(e){var t;null!=(t=s.screens[e.target.dataset.screenId])&&(a(t,e,"end"),0<t.touchEventListenersActive&&s.commands.triggerEventListeners("end",r(t),t.onTouchEventListeners),0<t.pressEventListenersActive&&s.commands.triggerEventListeners("up",i(t),t.onPressEventListeners),0<t.clickEventListenersActive&&s.commands.triggerEventListeners("click",i(t),t.onClickEventListeners,"up"))}function a(e,t,o){var n,a,r,i,s;if(e.clientRect){for(s={},n=e.clientRect,a=0;a<t.touches.length;a++)r=t.touches[a],(i={}).x=Math.floor((r.clientX-n.left)/n.width*e.width),i.y=Math.floor((r.clientY-n.top)/n.height*e.height),i.id=r.identifier,e.touches[i.id]?(i.lastX=e.touches[i.id].x,i.lastY=e.touches[i.id].y):(i.lastX=null,i.lastY=null),i.action=o,s[i.id]=i;e.lastTouches=e.touches,e.touches=s,e.lastEvent="touch"}}function r(e){var t,o,n,a;for(o in t=[],e.touches)a={x:(n=e.touches[o]).x,y:n.y,id:n.id,lastX:n.lastX,lastY:n.lastY,action:n.action,type:"touch"},t.push(a);return t}function i(e){function t(e,t,o){for(n in e)a=e[n],r={x:a.x,y:a.y,id:a.id,lastX:a.lastX,lastY:a.lastY,action:a.action,type:"touch"},void 0!==o&&(a.action=o),t.push(r)}var o,n,a,r;return o=[],t(e.touches,o),0===o.length&&t(e.lastTouches,o,"up"),0<o.length?("up"===(r=o[0]).action?r.buttons=0:r.buttons=1,r.touches=o,r):{x:-1,y:-1,id:-1,lastX:-1,lastY:-1,action:"none",buttons:0,type:"touch"}}function d(e){var t;t=!!e[0],document.body.style.touchAction=t?"":"none"}e=window.pi,s=e._.data,e._.addCommand("startTouch",c,!1,!0,[]),e._.addCommand("stopTouch",function(e){e.touchStarted&&(e.canvas.removeEventListener("touchstart",t),e.canvas.removeEventListener("touchmove",o),e.canvas.removeEventListener("touchend",n),e.canvas.removeEventListener("touchcancel",n),e.touchStarted=!1)},!1,!0,[]),e._.addCommand("getTouchPress",i,!0,!0,[]),e._.addCommand("intouch",function(e){return c(e),r(e)},!1,!0,[]),e._.addCommand("ontouch",function(e,t){var o,n,a,r,i;o=t[0],n=t[1],a=t[2],r=t[3],i=t[4],s.commands.onevent(o,n,a,r,["start","end","move"],"ontouch",e.onTouchEventListeners,null,null,i)&&(c(e),e.touchEventListenersActive+=1)},!1,!0,["mode","fn","once","hitBox","customData"]),e._.addCommand("offtouch",function(e,t){var o,n;o=t[0],n=t[1],s.commands.offevent(o,n,["start","end","move"],"offtouch",e.onTouchEventListeners)&&(null==n?e.touchEventListenersActive=0:(--e.touchEventListenersActive,e.touchEventListenersActive<0&&(e.touchEventListenersActive=0)))},!1,!0,["mode","fn"]),e._.addCommand("setPinchZoom",d,!1,!1,["isEnabled"]),e._.addSetting("pinchZoom",d,!1,["isEnabled"])}(),function(){"use strict";var l,g,m;function e(e,t){var o,n;o=t[0],(n=m.util.isInteger(o)?e.pal[o]:m.util.convertToColor(o))&&"string"==typeof n.s?e.canvas.style.backgroundColor=n.s:l.log("bgColor: invalid color value for parameter c.")}function t(e,t){var o,n;if(o=t[0],e.container)return(n=m.util.isInteger(o)?e.pal[o]:m.util.convertToColor(o))&&"string"==typeof n.s?void(e.container.style.backgroundColor=n.s):void l.log("containerBgColor: invalid color value for parameter c.")}function o(e,t){t[0]?(e.context.imageSmoothingEnabled=!1,e.pixelMode=!0):(e.context.imageSmoothingEnabled=!0,e.pixelMode=!1)}function n(e,t){var o,n,a,r;if(o=t[0],n=Math.round(t[1]),a=t[2],l.pens[o])if(m.util.isInteger(n))if(a&&!m.util.isArray(a)&&Number.isNaN(a))l.log("setPen: parameter noise is not an array or number.");else{if(m.util.isArray(a))for(a=a.slice(),r=0;r<a.length;r++)if(Number.isNaN(a[r]))return void l.log("setPen: parameter noise array contains an invalid value.");"pixel"===o&&(n=1),n<1&&(n=1),1===n?(e.pen.draw=l.pens.pixel.cmd,e.context.lineWidth=1):(e.pen.draw=l.pens[o].cmd,e.context.lineWidth=2*n-1),e.pen.noise=a,e.pen.size=n,e.context.lineCap=l.pens[o].cap}else l.log("setPen: parameter size must be an integer.");else l.log("setPen: parameter pen is not a valid pen. Valid pens: "+l.penList.join(", "))}function a(e,t){var o;o=t[0],l.blendCommands[o]?e.blendPixelCmd=l.blendCommands[o]:l.log("setBlendMode: Argument blend is not a valid blend mode. Valid modes: "+l.blendCommandsList.join(", "))}function h(e,t,o,n,a,r){var i,s,c;for(c=!1,s=0;s<o.length;s++)if(e===o[s]){c=!0;break}if(!c)return l.log(n+": mode needs to be one of the following "+o.join(", ")+"."),!1;if("string"==typeof r&&(e+=r),null==t)i=!0;else if(i=!1,!m.util.isFunction(t))return l.log(n+": fn is not a valid function."),!1;if(a[e]){if(i)delete a[e];else for(s=a[e].length-1;0<=s;s--)a[e][s].originalFn===t&&a[e].splice(s,1),0===a[e].length&&delete a[e];return!0}}m=window.pi,l=m._.data,g=211331.25,m._.addCommand("removeScreen",function(e){var t,o;if(o=e.id,e===l.activeScreen)for(t in l.screens)l.screens[t]!==e&&(l.activeScreen=l.screens[t]);for(t in e.screenObj.cancelInput(),e.screenObj)delete e.screenObj[t];e.canvas.parentElement&&e.canvas.parentElement.removeChild(e.canvas);e.canvas=null,e.bufferCanvas=null,e.pal=null,e.commands=null,e.context=null,e.imageData=null,e.screenObj=null,delete l.screens[o]},!1,!0,[]),m._.addCommand("setBgColor",e,!1,!0,["color"]),m._.addSetting("bgColor",e,!0,["color"]),m._.addCommand("setContainerBgColor",t,!1,!0,["color"]),m._.addSetting("containerBgColor",t,!0,["color"]),m._.addCommand("width",function(e){return e.width},!1,!0,[]),m._.addCommand("height",function(e){return e.height},!1,!0,[]),m._.addCommand("canvas",function(e){return e.canvas},!1,!0,[]),m._.addCommand("findColor",function(e,t){var o,n,a,r,i,s,c,d,u;if(o=t[0],n=t[1],a=!!t[2],null==n)n=1;else if(isNaN(n)||n<0||1<n)return void l.log("findColor: parameter tolerance must be a number between 0 and 1");if(n=n*(2-n)*g,i=e.pal,e.cache.findColor[o.s])return e.cache.findColor[o.s];for(o=l.commands.findColorValue(e,o,"color"),r=0;r<i.length;r++){if(i[r].s===o.s)return e.cache.findColor[o.s]=r;if(s=i[r].r-o.r,c=i[r].g-o.g,d=i[r].b-o.b,u=i[r].a-o.a,n<=g-(s*s+c*c+d*d+u*u*.25))return e.cache.findColor[o.s]=r}if(a)return i.push(o),e.cache.findColor[o.s]=i.length-1,i.length-1;return 0},!1,!0,["color","tolerance","isAddToPalette"]),m._.addCommand("setPixelMode",o,!1,!0,["isEnabled"]),m._.addSetting("pixelMode",o,!0,["isEnabled"]),m._.addCommand("setPen",n,!1,!0,["pen","size","noise"]),m._.addSetting("pen",n,!0,["pen","size","noise"]),m._.addCommand("setBlendMode",a,!1,!0,["mode"]),m._.addSetting("blendMode",a,!0,["mode"]),m._.addCommand("triggerEventListeners",function(e,t,o,n){var a,r,i,s,c,d;if(o[e])for(a=o[e].slice(),r=0;r<a.length;r++)if("up"!==n||a[r].clickDown)if(a[r].hitBox){if(d=!1,m.util.isArray(t)){for(c=[],i=0;i<t.length;i++)s=t[i],m.util.inRange(s,a[r].hitBox)&&c.push(s);0<c.length&&(d=!0)}else c=t,m.util.inRange(t,a[r].hitBox)&&(d=!0);d&&("down"===n?a[r].clickDown=!0:(a[r].clickDown=!1,a[r].fn(c,a[r].customData)))}else a[r].fn(t,a[r].customData)},!0,!0,[]),m._.addCommand("onevent",function(n,t,a,r,i,s,c,d,u,g){var e,o;for(o=!1,e=0;e<i.length;e++)if(n===i[e]){o=!0;break}if(!o)return l.log(s+": mode needs to be on of the following "+i.join(", ")+"."),!1;if(a=!!a,!m.util.isFunction(t))return l.log(s+": fn is not a valid function."),!1;if(r&&!(m.util.isInteger(r.x)&&m.util.isInteger(r.y)&&m.util.isInteger(r.width)&&m.util.isInteger(r.height)))return l.log(s+": hitbox must have properties x, y, width, and height whose values are integers."),!1;return setTimeout(function(){var o,e;o=t,a&&(t=function(e,t){h(n,o,i,s,c,d),o(e,t)}),c[e="string"==typeof d?n+d:n]||(c[e]=[]),c[e].push({fn:t,hitBox:r,extraData:u,clickDown:!1,originalFn:o,customData:g})},1),!0},!0,!0,[]),m._.addCommand("offevent",h,!0,!0,[]),m._.addCommand("clearEvents",function(e){e.onMouseEventListeners={},e.onTouchEventListeners={},e.onPressEventListeners={},e.onClickEventListeners={},e.mouseEventListenersActive=0,e.touchEventListenersActive=0,e.pressEventListenersActive=0,e.clickEventListenersActive=0,e.lastEvent=null},!1,!0,[]),m._.addCommand("setAutoRender",function(e,t){var o;o=t[0],e.isAutoRender=!!o,e.isAutoRender&&e.screenObj.render()},!1,!0,["isAutoRender"])}(),function(){"use strict";var g,i;function e(e,t,o,n){var a,r;(a=e.imageData.data)[r=4*(e.width*o+t)]=n.r,a[1+r]=n.g,a[2+r]=n.b,a[3+r]=n.a}function t(e,t,o,n){t<0||t>=e.width||o<0||o>=e.height||(g.commands.getImageData(e),n=a(e,n),e.blendPixelCmd(e,t,o,n),g.commands.setImageDirty(e))}function a(e,t){var o,n,a,r;return(o=e.pen.noise)?(r={r:t.r,g:t.g,b:t.b,a:t.a},a=o/2,i.util.isArray(o)?(r.r=i.util.clamp(Math.round(r.r+i.util.rndRange(-o[0],o[0])),0,255),r.g=i.util.clamp(Math.round(r.g+i.util.rndRange(-o[1],o[1])),0,255),r.b=i.util.clamp(Math.round(r.b+i.util.rndRange(-o[2],o[2])),0,255),r.a=i.util.clamp(r.a+i.util.rndRange(-o[3],o[3]),0,255)):(n=Math.round(Math.random()*o-a),r.r=i.util.clamp(r.r+n,0,255),r.g=i.util.clamp(r.g+n,0,255),r.b=i.util.clamp(r.b+n,0,255)),r):t}function o(e,t,o,n){var a,r,i,s;for(a=2*e.pen.size-1,s=Math.round(a/2)-1,i=0;i<a;i++)for(r=0;r<a;r++)g.commands.setPixelSafe(e,r+t-s,i+o-s,n);g.commands.setImageDirty(e)}function n(e,t,o,n){var a,r,i,s,c,d,u;if(2===e.pen.size)return g.commands.setPixelSafe(e,t,o,n),g.commands.setPixelSafe(e,t+1,o,n),g.commands.setPixelSafe(e,t-1,o,n),g.commands.setPixelSafe(e,t,o+1,n),g.commands.setPixelSafe(e,t,o-1,n),void g.commands.setImageDirty(e);for(a=2*e.pen.size,u=(r=e.pen.size)-1,s=0;s<a;s++)for(i=0;i<a;i++)c=i-u,d=s-u,Math.round(Math.sqrt(c*c+d*d))<r&&g.commands.setPixelSafe(e,c+t,d+o,n);g.commands.setImageDirty(e)}function r(e,t,o){var n,a;return{r:(n=e.imageData.data)[a=4*(e.width*o+t)],g:n[1+a],b:n[2+a],a:n[3+a]}}i=window.pi,g=i._.data,i._.addBlendCommand("normal",e),i._.addBlendCommand("blended",function(e,t,o,n){var a,r,i,s;a=e.imageData.data,r=4*(e.width*o+t),i=n.a/255,s=(255-n.a)/255,a[r]=n.r*i+a[r]*s,a[1+r]=n.g*i+a[1+r]*s,a[2+r]=n.b*i+a[2+r]*s}),i._.addCommand("getImageData",function(e){!1===e.dirty&&(e.imageData=e.context.getImageData(0,0,e.width,e.height))},!0,!1),i._.addCommand("setImageDirty",function(e){!1===e.dirty&&(e.dirty=!0,e.isAutoRender&&!e.autoRenderMicrotaskScheduled&&(e.autoRenderMicrotaskScheduled=!0,i.util.queueMicrotask(function(){e.screenObj&&e.isAutoRender&&e.screenObj.render(),e.autoRenderMicrotaskScheduled=!1})))},!0,!1),i._.addCommand("setPixel",function(e,t,o,n){e.blendPixelCmd(e,t,o,n)},!0,!1),i._.addCommand("setPixelSafe",t,!0,!1),i._.addPen("pixel",t,"square"),i._.addCommand("getPixelColor",a,!0,!1),i._.addCommand("drawSquarePen",o,!0,!1),i._.addPen("square",o,"square"),i._.addCommand("drawCirclePen",n,!0,!1),i._.addPen("circle",n,"round"),i._.addCommand("getPixelInternal",r,!0,!1),i._.addCommand("getPixel",function(e,t){var o,n,a,r;return o=t[0],n=t[1],g.commands.getImageData(e),a=e.imageData.data,r=4*(e.width*n+o),i.util.convertToColor({r:a[r],g:a[1+r],b:a[2+r],a:a[3+r]})},!1,!0,["x","y"]),i._.addCommand("getPixelSafe",function(e,t,o){return g.commands.getImageData(e),r(e,t,o)},!0,!1),i._.addCommand("findColorValue",function(e,t,o){var n;if(i.util.isInteger(t)){if(t>e.pal.length)return void g.log(o+": parameter color is not a color in the palette.");n=e.pal[t]}else if(null===(n=i.util.convertToColor(t)))return void g.log(o+": parameter color is not a valid color format.");return n},!0,!1),g.defaultPenDraw=t,g.defaultBlendCmd=e}(),function(){"use strict";var C,b;function e(e,t){var o,n,a;o=t[0],n=t[1],!b.util.isInteger(o)||o<0||o>e.pal.length?C.log("setPalColor: index is not a valid integer value."):null!==(a=b.util.convertToColor(n))?(e.fColor.s===e.pal[o].s&&(e.fColor=a),e.pal[o]=a):C.log("setPalColor: parameter color is not a valid color format.")}function t(e,t){var o,n,a;o=t[0],a=!!t[1],void 0!==(n=C.commands.findColorValue(e,o,"color"))&&(e.fColor=a?e.screenObj.findColor(n,a):n,e.context.fillStyle=n.s,e.context.strokeStyle=n.s)}b=window.pi,C=b._.data,b._.addCommands("circle",function(e,t){var o,n,a,r,i,s,c,d,u,g,l;if(o=Math.round(t[0]),n=Math.round(t[1]),a=Math.round(t[2]),r=t[3],g=!1,!b.util.isInteger(o)||!b.util.isInteger(n)||!b.util.isInteger(a))return void C.log("circle: x, y, radius must be integers.");if(null!=r){if(void 0===(r=C.commands.findColorValue(e,r,"circle")))return;g=!0}C.commands.getImageData(e),g&&(C.commands.setImageDirty(e),(l=e.imageData).name="main",e.bufferContext.clearRect(0,0,e.width,e.height),e.imageData=e.bufferContext.getImageData(0,0,e.width,e.height),e.imageData.name="buffer");u=e.fColor,c=0,1<(s=--a)?(e.pen.draw(e,s+o,c+n,u),e.pen.draw(e,-s+o,c+n,u),e.pen.draw(e,o,s+n,u),e.pen.draw(e,o,-s+n,u)):1===a?(e.pen.draw(e,o+1,n,u),e.pen.draw(e,o-1,n,u),e.pen.draw(e,o,n+1,u),e.pen.draw(e,o,n-1,u),c=s+1):0===a&&(e.pen.draw(e,o,n,u),c=s+1);d=1-a;for(;c<s;)c+=1,d=d<=0?d+2*c+1:d+2*c-2*--s+1,e.pen.draw(e,s+o,c+n,u),e.pen.draw(e,-s+o,c+n,u),e.pen.draw(e,s+o,-c+n,u),e.pen.draw(e,-s+o,-c+n,u),s!=c&&(e.pen.draw(e,c+o,s+n,u),e.pen.draw(e,-c+o,s+n,u),e.pen.draw(e,c+o,-s+n,u),e.pen.draw(e,-c+o,-s+n,u));if(g){for(C.commands.paint(e,[o,n,r]),a+=e.pen.size,c=-a;c<=a;c+=1)for(s=-a;s<=a;s+=1)i=4*((c+n)*e.width+(s+o)),0<e.imageData.data[3+i]&&(l.data[i]=e.imageData.data[i],l.data[1+i]=e.imageData.data[1+i],l.data[2+i]=e.imageData.data[2+i],l.data[3+i]=e.imageData.data[3+i]);e.imageData=l}C.commands.setImageDirty(e)},function(e,t){var o,n,a,r,i,s,c;if(o=t[0]+.5,n=t[1]+.5,a=t[2]-.9,r=t[3],isNaN(o)||isNaN(n)||isNaN(a))return void C.log("circle: parameters cx, cy, r must be numbers.");if(null!=r){if(void 0===(r=C.commands.findColorValue(e,r,"rect")))return;i=!0}else i=!1;e.screenObj.render(),s=b.util.degreesToRadian(0),c=b.util.degreesToRadian(360),e.context.beginPath(),e.context.strokeStyle=e.fColor.s,e.context.moveTo(o+Math.cos(s)*a,n+Math.sin(s)*a),e.context.arc(o,n,a,s,c),i&&(e.context.fillStyle=r.s,e.context.fill());e.context.stroke()},["x","y","radius","fillColor"]),b._.addCommands("arc",function(n,e){var a,r,t,i,s,c,o,d,u,g;function l(e,t){var o;o=((o=b.util.radiansToDegrees(Math.atan2(t-r,e-a)))+360)%360,g?(i<=o||o<=s)&&n.pen.draw(n,e,t,c):i<=o&&o<=s&&n.pen.draw(n,e,t,c)}a=Math.round(e[0]),r=Math.round(e[1]),t=Math.round(e[2]),i=e[3],s=e[4],g=!1,(i=(i+360)%360)>(s=(s+360)%360)&&(g=!0);if(C.commands.getImageData(n),isNaN(a)||isNaN(r)||isNaN(t))return void C.log("arc: Argument's x, y, radius must be integers.");c=n.fColor,--t<0&&(t=0);if(d=0,1<(o=t))l(o+a,d+r),l(-o+a,d+r),l(a,o+r),l(a,-o+r);else{if(1===t)return l(a+1,r),l(a-1,r),l(a,r+1),l(a,r-1),void C.commands.setImageDirty(n);if(0===t)return n.pen.draw(n,a,r,c),void C.commands.setImageDirty(n)}u=1-t;for(;d<o;)d+=1,u=u<=0?u+2*d+1:u+2*d-2*--o+1,l(o+a,d+r),l(-o+a,d+r),l(o+a,-d+r),l(-o+a,-d+r),o!=d&&(l(d+a,o+r),l(-d+a,o+r),l(d+a,-o+r),l(-d+a,-o+r));C.commands.setImageDirty(n)},function(e,t){var o,n,a,r,i;if(o=t[0],n=t[1],a=t[2],r=t[3],i=t[4],isNaN(o)||isNaN(n)||isNaN(a)||isNaN(r)||isNaN(i))return void C.log("arc: parameters cx, cy, r, a1, a2 must be numbers.");o+=.5,n+=.5,(a-=.9)<0&&(a=0);e.screenObj.render(),r=b.util.degreesToRadian(r),i=b.util.degreesToRadian(i),e.context.beginPath(),e.context.strokeStyle=e.fColor.s,e.context.moveTo(o+Math.cos(r)*a,n+Math.sin(r)*a),e.context.arc(o,n,a,r,i),e.context.stroke()},["x","y","radius","angle1","angle2"]),b._.addCommands("ellipse",function(e,t){var o,n,a,r,i,s,c,d,u,g,l,m,h,f,v;if(o=Math.round(t[0]),n=Math.round(t[1]),a=Math.round(t[2]),r=Math.round(t[3]),i=t[4],isNaN(o)||isNaN(n)||isNaN(a)||isNaN(r))return void C.log("ellipse: parameters x, y, radiusX, radiusY must be integers.");if(null!=i){if(void 0===(i=C.commands.findColorValue(e,i,"circle")))return;f=!0}C.commands.getImageData(e),f&&(C.commands.setImageDirty(e),(s=e.imageData).name="main",e.bufferContext.clearRect(0,0,e.width,e.height),e.imageData=e.bufferContext.getImageData(0,0,e.width,e.height),e.imageData.name="buffer");if(c=e.fColor,0===a&&0===r)return e.pen.draw(e,Math.floor(o),Math.floor(n),c),void C.commands.setImageDirty(e);g=(h=r)*r-a*a*r+.25*a*a,d=2*r*r*(m=0),u=2*a*a*h;for(;d<u;)e.pen.draw(e,Math.floor(m+o),Math.floor(h+n),c),e.pen.draw(e,Math.floor(-m+o),Math.floor(h+n),c),e.pen.draw(e,Math.floor(m+o),Math.floor(-h+n),c),e.pen.draw(e,Math.floor(-m+o),Math.floor(-h+n),c),g=g<0?(m++,g+(d+=2*r*r)+r*r):(m++,h--,g+(d+=2*r*r)-(u-=2*a*a)+r*r);l=r*r*((m+.5)*(m+.5))+a*a*((h-1)*(h-1))-a*a*r*r;for(;0<=h;)e.pen.draw(e,Math.floor(m+o),Math.floor(h+n),c),e.pen.draw(e,Math.floor(-m+o),Math.floor(h+n),c),e.pen.draw(e,Math.floor(m+o),Math.floor(-h+n),c),e.pen.draw(e,Math.floor(-m+o),Math.floor(-h+n),c),l=0<l?(h--,l+a*a-(u-=2*a*a)):(h--,m++,l+(d+=2*r*r)-(u-=2*a*a)+a*a);if(f){for(C.commands.paint(e,[o,n,i]),a+=e.pen.size,r+=e.pen.size,h=-r;h<=r;h+=1)for(m=-a;m<=a;m+=1)v=4*((h+n)*e.width+(m+o)),0<e.imageData.data[3+v]&&(s.data[v]=e.imageData.data[v],s.data[1+v]=e.imageData.data[1+v],s.data[2+v]=e.imageData.data[2+v],s.data[3+v]=e.imageData.data[3+v]);e.imageData=s}C.commands.setImageDirty(e)},function(e,t){var o,n,a,r,i,s;if(o=t[0],n=t[1],a=t[2],r=t[3],i=t[4],isNaN(o)||isNaN(n)||isNaN(a)||isNaN(r))return void C.log("ellipse: parameters x, y, radiusX, radiusY must be numbers.");if(null!=i){if(void 0===(i=C.commands.findColorValue(e,i,"rect")))return;s=!0}else s=!1;e.dirty&&e.screenObj.render();e.context.beginPath(),e.context.strokeStyle=e.fColor.s,e.context.moveTo(o+a,n),e.context.ellipse(o,n,a,r,0,b.util.math.deg360,!1),s&&(e.context.fillStyle=i.s,e.context.fill());e.context.stroke()},["x","y","radiusX","radiusY","fillColor"]),b._.addCommand("put",function(e,t){var o,n,a,r,i,s,c,d,u,g,l,m;if(o=t[0],n=Math.round(t[1]),a=Math.round(t[2]),r=!!t[3],!o||o.length<1)return;if(isNaN(n)||isNaN(a))return void C.log("put: parameters x and y must be integers.");c=n<0?-1*n:0;d=a<0?-1*a:0;u=o[0].length-c,g=o.length-d,n+c+u>=e.width&&(u=e.width-n+c);a+d+g>=e.height&&(g=e.height-a+d);if(u<=0||g<=0)return;for(C.commands.getImageData(e),s=d;s<d+g;s++)for(i=c;i<c+u;i++)m=e.pal[o[s][i]],l=4*(e.width*(a+s)+(n+i)),(0<m.a||r)&&(e.imageData.data[l]=m.r,e.imageData.data[1+l]=m.g,e.imageData.data[2+l]=m.b,e.imageData.data[3+l]=m.a);C.commands.setImageDirty(e)},!1,!0,["data","x","y","includeZero"]),b._.addCommand("get",function(e,t){var o,n,a,r,i,s,c,d,u,g,l,m,h,f,v,p,y;if(o=Math.round(t[0]),n=Math.round(t[1]),a=Math.round(t[2]),r=Math.round(t[3]),i=t[4],isNaN(o)||isNaN(n)||isNaN(r)||isNaN(r))return void C.log("put: parameters x1, x2, y1, y2 must be integers.");if(null==i)i=1;else if(isNaN(i))return void C.log("put: parameter tolerance must be a number.");o=b.util.clamp(o,0,e.width-1),a=b.util.clamp(a,0,e.width-1),n=b.util.clamp(n,0,e.height-1),r=b.util.clamp(r,0,e.height-1),a<o&&(s=o,o=a,a=s);r<n&&(s=n,n=r,r=s);for(C.commands.getImageData(e),c=e.imageData,d=[],p=0,g=n;g<=r;g++){for(d.push([]),u=o;u<=a;u++)v=4*(e.width*g+u),m=c.data[v],h=c.data[1+v],f=c.data[2+v],y=c.data[3+v],l=e.screenObj.findColor(b.util.rgbToColor(m,h,f,y),i),d[p].push(l);p+=1}return d},!1,!0,["x1","y1","x2","y2","tolerance"]),b._.addCommands("pset",function(e,t){var o,n,a;if(o=Math.round(t[0]),n=Math.round(t[1]),!b.util.isInteger(o)||!b.util.isInteger(n))return void C.log("pset: Argument's x and y must be integers.");if(e.x=o,e.y=n,!b.util.inRange2(o,n,0,0,e.width,e.height))return;a=e.fColor,C.commands.getImageData(e),e.pen.draw(e,o,n,a),C.commands.setImageDirty(e)},function(e,t){var o,n;if(o=t[0],n=t[1],!b.util.isInteger(o)||!b.util.isInteger(n))return void C.log("pset: Argument's x and y must be integers.");if(e.x=o,e.y=n,!b.util.inRange2(o,n,0,0,e.width,e.height))return;e.screenObj.render(),e.context.strokeStyle=e.fColor.s,e.context.beginPath(),e.context.moveTo(o,n),e.context.lineTo(o,n),e.context.stroke()},["x","y"]),b._.addCommands("line",function(e,t){var o,n,a,r,i,s,c,d,u,g,l;if(o=Math.round(t[0]),n=Math.round(t[1]),a=Math.round(t[2]),r=Math.round(t[3]),!(b.util.isInteger(o)&&b.util.isInteger(n)&&b.util.isInteger(a)&&b.util.isInteger(r)))return void C.log("line: Argument's x1, y1, x2, and y2 must be integers.");i=e.fColor,s=Math.abs(a-o),c=Math.abs(r-n),d=o<a?1:-1;u=n<r?1:-1;g=s-c,C.commands.getImageData(e),e.pen.draw(e,o,n,i);for(;o!==a||n!==r;)-c<(l=g<<1)&&(g-=c,o+=d),l<s&&(g+=s,n+=u),e.pen.draw(e,o,n,i);C.commands.setImageDirty(e)},function(e,t){var o,n,a,r;if(o=t[0],n=t[1],a=t[2],r=t[3],isNaN(o)||isNaN(n)||isNaN(a)||isNaN(r))return void C.log("line: parameters x1, y1, x2, y2 must be numbers.");e.screenObj.render(),e.context.strokeStyle=e.fColor.s,e.context.beginPath(),e.context.moveTo(o,n),e.context.lineTo(a,r),e.context.stroke()},["x1","y1","x2","y2"]),b._.addCommands("rect",function(e,t){var o,n,a,r,i,s,c,d,u,g;if(o=Math.round(t[0]),n=Math.round(t[1]),a=Math.round(t[2]),r=Math.round(t[3]),i=t[4],!(b.util.isInteger(o)&&b.util.isInteger(n)&&b.util.isInteger(a)&&b.util.isInteger(r)))return void C.log("rect: x, y, width, and height must be integers.");if(null!=i){if(void 0===(i=C.commands.findColorValue(e,i,"rect")))return;s=!0}if(c=o+a-1,d=n+r-1,C.commands.line(e,[o,n,c,n]),C.commands.line(e,[c,n,c,d]),C.commands.line(e,[c,d,o,d]),C.commands.line(e,[o,d,o,n]),s&&a>e.pen.size&&r>e.pen.size&&2<a&&2<r){for(u=e.fColor,e.fColor=i,n+=e.pen.size,d=d-e.pen.size+1,o+=e.pen.size,c=c-e.pen.size+1,o<0&&(o=0),c>e.width&&(c=e.width),n<0&&(n=0),d>e.height&&(d=e.height);n<d;n+=1)for(g=o;g<c;g+=1)C.commands.setPixel(e,g,n,i);e.fColor=u}},function(e,t){var o,n,a,r,i,s;if(o=t[0],n=t[1],a=t[2],r=t[3],i=t[4],s=!1,isNaN(o)||isNaN(n)||isNaN(a)||isNaN(r))return void C.log("rect: parameters x, y, width, height must be numbers.");if(null!=i){if(void 0===(i=C.commands.findColorValue(e,i,"rect")))return;s=!0}e.screenObj.render(),e.context.beginPath(),e.context.strokeStyle=e.fColor.s,e.context.rect(o,n,a,r),s&&(e.context.fillStyle=i.s,e.context.fill());e.context.stroke()},["x","y","width","height","fillColor"]),b._.addCommand("setPalColor",e,!1,!0,["index","color"]),b._.addSetting("palColor",e,!0,["index","color"]),b._.addCommand("getPal",function(e,t){var o,n;for(n=[],o=0;o<e.pal.length;o++)e.pal[o].r,e.pal[o].g,e.pal[o].b,e.pal[o].a,e.pal[o].s,n.push(e.pal[o]);return n},!1,!0,[]),b._.addCommand("setColor",t,!1,!0,["color","isAddToPalette"]),b._.addSetting("color",t,!0,["color","isAddToPalette"]),b._.addCommand("swapColor",function(e,t){var o,n,a,r,i,s,c;{if(o=t[0],n=t[1],!b.util.isInteger(o))return void C.log("swapColor: parameter oldColor must be an integer.");if(o<0||o>e.pal.length)return void C.log("swapColor: parameter oldColor is an invalid integer.")}if(a=o,o=e.pal[a],null===(n=b.util.convertToColor(n)))return void C.log("swapColor: parameter newColor is not a valid color format.");for(C.commands.getImageData(e),c=e.imageData.data,i=0;i<e.height;i++)for(r=0;r<e.width;r++)s=4*(e.width*i+r),c[s]===o.r&&c[1+s]===o.g&&c[2+s]===o.b&&c[3+s]===o.a&&(c[s]=n.r,c[1+s]=n.g,c[2+s]=n.b,c[3+s]=n.a);C.commands.setImageDirty(e),e.pal[a]=n},!1,!0,["oldColor","newColor"]),b._.addCommand("point",function(e,t){var o,n,a,r,i;return o=Math.round(t[0]),n=Math.round(t[1]),b.util.isInteger(o)&&b.util.isInteger(n)?(C.commands.getImageData(e),i=e.imageData.data,a=4*(e.width*n+o),r=b.util.convertToColor({r:i[a],g:i[1+a],b:i[2+a],a:i[3+a]}),e.screenObj.findColor(r)):void C.log("point: Argument's x and y must be integers.")},!1,!0,["x","y"]),b._.addCommand("cls",function(e,t){var o,n,a,r;o=b.util.getInt(Math.round(t[0]),0),n=b.util.getInt(Math.round(t[1]),0),a=b.util.getInt(Math.round(t[2]),e.width),r=b.util.getInt(Math.round(t[3]),e.height),e.context.clearRect(o,n,a,r),e.imageData=null,e.printCursor.x=0,e.printCursor.y=0,e.x=0,e.y=0,e.dirty=!1},!1,!0,["x","y","width","height"]),b._.addCommand("filterImg",function(e,t){var o,n,a,r,i,s;if(o=t[0],!b.util.isFunction(o))return void C.log("filter: Argument filter must be a callback function.");for(C.commands.getImageData(e),n=e.imageData.data,r=0;r<e.height;r++)for(a=0;a<e.width;a++)i=4*(e.width*r+a),(s=o({r:n[i],g:n[1+i],b:n[2+i],a:n[3+i]},a,r))&&b.util.isInteger(s.r)&&b.util.isInteger(s.g)&&b.util.isInteger(s.b)&&b.util.isInteger(s.a)&&(s.r=b.util.clamp(s.r,0,255),s.g=b.util.clamp(s.g,0,255),s.b=b.util.clamp(s.b,0,255),s.a=b.util.clamp(s.a,0,255),n[i]=s.r,n[1+i]=s.g,n[2+i]=s.b,n[3+i]=s.a);C.commands.setImageDirty(e)},!1,!0,["filter"]),b._.addCommand("render",function(e){e.imageData&&e.dirty&&e.context.putImageData(e.imageData,0,0);e.dirty=!1},!1,!0,[])}(),function(){"use strict";var u,g,d,l,m;function h(e,t,o,n){n=u.commands.getPixelColor(e,n),u.commands.setPixel(e,t,o,n)}function f(e,t,o,n,a,r,i){var s;!function(e,t,o,n,a){var r,i,s,c,d;if(t<0||t>=e.width||o<0||o>=e.height)return;return r=u.commands.getPixelInternal(e,t,o),!function(e,t){var o;if(l[o=e+" "+t])return 1;l[o]=!0}(t,o)&&(i=r.r-n.r,s=r.g-n.g,c=r.b-n.b,d=r.a-n.a,a<=g-(i*i+s*s+c*c+d*d*.25))}(e,t,o,r,i)||(d(e,t,o,a),s={x:t,y:o},n.push(s))}m=window.pi,u=m._.data,g=211331.25,m._.addCommand("paint",function(e,t){var o,n,a,r,i,s,c;if(o=Math.round(t[0]),n=Math.round(t[1]),a=t[2],r=t[3],!m.util.isInteger(o)||!m.util.isInteger(n))return void u.log("paint: parameters x and y must be integers");null!=r&&!1!==r||(r=1);if(isNaN(r)||r<0||1<r)return void u.log("paint: parameter tolerance must be a number between 0 and 1.");r=r*(2-r)*g,navigator.brave&&r===g&&--r;i=[{x:o,y:n}],d=e.pen.noise?h:u.commands.setPixel;if(m.util.isInteger(a)){if(a>e.pal.length)return void u.log("paint: Argument fillColor is not a color in the palette.");a=e.pal[a]}else if(null===(a=m.util.convertToColor(a)))return void u.log("paint: Argument fillColor is not a valid color format.");l={},u.commands.getImageData(e),c=u.commands.getPixelInternal(e,o,n);for(;0<i.length;)s=i.pop(),d(e,s.x,s.y,a),f(e,s.x+1,s.y,i,a,c,r),f(e,s.x-1,s.y,i,a,c,r),f(e,s.x,s.y+1,i,a,c,r),f(e,s.x,s.y-1,i,a,c,r);l=null,u.commands.setImageDirty(e)},!1,!0,["x","y","fillColor","tolerance"])}(),function(){"use strict";var y,e;function C(e,t){var o,n;return(o=e.x-t.x)*o+(n=e.y-t.y)*n}function b(e,t){var o,n,a,r,i;return a=(n=(o=1-e)*o)*o,i=(r=e*e)*e,{x:Math.round(a*t[0].x+3*n*e*t[1].x+3*o*r*t[2].x+i*t[3].x),y:Math.round(a*t[0].y+3*n*e*t[1].y+3*o*r*t[2].y+i*t[3].y)}}e=window.pi,y=e._.data,e._.addCommands("bezier",function(e,t){var o,n,a,r,i,s,c,d,u,g,l,m,h,f,v,p;if(o=Math.round(t[0]),n=Math.round(t[1]),a=Math.round(t[2]),r=Math.round(t[3]),i=Math.round(t[4]),s=Math.round(t[5]),c=Math.round(t[6]),d=Math.round(t[7]),isNaN(o)||isNaN(n)||isNaN(a)||isNaN(r)||isNaN(i)||isNaN(s)||isNaN(c)||isNaN(d))return void y.log("bezier: Argument's xStart, yStart, x1, y1, x2, y2, xEnd, and yEnd must be numbers.");u=e.fColor,y.commands.getImageData(e),p=e.pen.size,f=b(0,g=[{x:o,y:n},{x:a,y:r},{x:i,y:s},{x:c,y:d}]),e.pen.draw(e,f.x,f.y,u),m=l=.1;for(;l<1;)h=b(l,g),v=C(h,f),p<v&&1e-5<m?(l-=m,m*=.75):(e.pen.draw(e,h.x,h.y,u),f=h),l+=m;h=b(1,g),e.pen.draw(e,h.x,h.y,u),y.commands.setImageDirty(e)},function(e,t){var o,n,a,r,i,s,c,d;if(o=t[0]+.5,n=t[1]+.5,a=t[2]+.5,r=t[3]+.5,i=t[4]+.5,s=t[5]+.5,c=t[6]+.5,d=t[7]+.5,isNaN(o)||isNaN(n)||isNaN(a)||isNaN(r)||isNaN(i)||isNaN(s)||isNaN(c)||isNaN(d))return void y.log("bezier: parameters xStart, yStart, x1, y1, x2, y2, xEnd, and yEnd must be numbers.");e.screenObj.render(),e.context.strokeStyle=e.fColor.s,e.context.beginPath(),e.context.moveTo(o,n),e.context.bezierCurveTo(a,r,i,s,c,d),e.context.stroke()},["xStart","yStart","x1","y1","x2","y2","xEnd","yEnd"])}(),function(){"use strict";var w,i,s,c,m;function o(e){var t,o,n,a,r;if(t=e[0],o=e[1],"string"==typeof t)(n=new Image).src=t;else{if(!t||"IMG"!==t.tagName&&"CANVAS"!==t.tagName)return void w.log("loadImage: src must be a string, image element, or canvas.");n=t}return"string"!=typeof o&&(o=""+w.imageCount,w.imageCount+=1),w.images[o]={image:null,type:"image"},a=c,c=null,n.complete?(w.images[o].image=n,m.util.isFunction(a)&&a()):(i(),m.util.isFunction(n.onload)&&(r=n.onload),n.onload=function(){r&&r(),w.images[o].image=n,m.util.isFunction(a)&&a(),s()}),o}function h(e,t,o,n,a,r,i,s,c,d,u){var g,l;null!=d&&!isNaN(Number(d))||(d=1),null!=u&&!isNaN(Number(u))||(u=1),null==a&&(a=0),a=m.util.degreesToRadian(a),r=r||0,i=i||0,s||0===s||(s=255),i=c?(r=Math.round(c.width*r),Math.round(c.height*i)):(r=Math.round(t.width*r),Math.round(t.height*i)),l=(g=e.context).globalAlpha,g.globalAlpha=s/255,e.screenObj.render(),g.translate(o,n),g.rotate(a),g.scale(d,u),null==c?g.drawImage(t,-r,-i):g.drawImage(t,c.x,c.y,c.width,c.height,-r,-i,c.width,c.height),g.scale(1/d,1/u),g.rotate(-a),g.translate(-o,-n),g.globalAlpha=l}m=window.pi,w=m._.data,i=m._.wait,s=m._.resume,c=null,m._.addCommand("loadImage",o,!1,!1,["src","name"]),m._.addCommand("loadSpritesheet",function(e){var t,v,p,y,C,b;t=e[0],C=e[1],v=e[2],p=e[3],null==(y=e[4])&&(y=0);null==v&&null==p?(b=!0,y=p=v=0):b=!1;if(v=Math.round(v),p=Math.round(p),y=Math.round(y),!(b||m.util.isInteger(v)&&m.util.isInteger(p)))return void w.log("loadSpriteSheet: width, and height must be integers.");if(!b&&(v<1||p<1))return void w.log("loadSpriteSheet: width, and height must be greater than 0.");if(!m.util.isInteger(y))return void w.log("loadSpriteSheet: margin must be an integer.");"string"!=typeof C&&(C=""+w.imageCount,w.imageCount+=1);return c=function(){function e(e,t,o){var n,a,r,i,s,c,d;if(!(l[n=e+"_"+t]||e<0||u<=e||t<0||g<=t))for((r=[]).push([e,t,n]);0<r.length;)if(e=(i=r.pop())[0],t=i[1],n=i[2],l[n]=!0,0<m[3+4*(e+t*u)])for(o.x=Math.min(o.x,e),o.y=Math.min(o.y,t),o.right=Math.max(o.right,e),o.bottom=Math.max(o.bottom,t),o.width=o.right-o.x+1,o.height=o.bottom-o.y+1,a=0;a<h.length;a++)s=e+h[a][0],c=t+h[a][1],l[d=s+"_"+c]||s<0||u<=s||c<0||g<=c||r.push([s,c,d])}var t,u,g,o,n,a,r,l,i,s,m,c,d,h,f;if((t=w.images[C]).type="spritesheet",t.spriteWidth=v,t.spriteHeight=p,t.margin=y,t.frames=[],t.isAuto=b,u=t.image.width,g=t.image.height,t.isAuto)for(l={},(i=document.createElement("canvas")).width=u,i.height=g,(s=i.getContext("2d",{willReadFrequently:!0})).drawImage(t.image,0,0),h=[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]],m=s.getImageData(0,0,u,g).data,c=3;c<m.length;c+=4)0<m[c]&&(e(o=(d=(c-3)/4)%u,n=Math.floor(d/u),f={x:u,y:g,width:0,height:0,right:0,bottom:0}),4<f.width+f.height&&t.frames.push(f));else for(o=t.margin,n=t.margin,a=o+t.spriteWidth,r=n+t.spriteHeight;r<=g-t.margin;){for(;a<=u-t.margin;)t.frames.push({x:o,y:n,width:t.spriteWidth,height:t.spriteHeight,right:o+t.spriteWidth-1,bottom:r+t.spriteHeight-1}),a=(o+=t.spriteWidth+t.margin)+t.spriteWidth;a=(o=t.margin)+t.spriteWidth,r=(n+=t.spriteHeight+t.margin)+t.spriteHeight}},o([t,C]),C},!1,!1,["src","name","width","height","margin"]),m._.addCommand("getSpritesheetData",function(e,t){var o,n,a,r;if(o=t[0],!w.images[o])return void w.log("getSpritesheetData: invalid sprite name");if("spritesheet"!==(n=w.images[o]).type)return void w.log("getSpritesheetData: image is not a sprite");for(r={frameCount:n.frames.length,frames:[]},a=0;a<n.frames.length;a++)r.frames.push({index:a,x:n.frames[a].x,y:n.frames[a].y,width:n.frames[a].width,height:n.frames[a].height,left:n.frames[a].x,top:n.frames[a].y,right:n.frames[a].right,bottom:n.frames[a].bottom});return r},!1,!0,["name"]),m._.addCommand("drawImage",function(e,t){var o,n,a,r,i,s,c,d,u,g;if(o=t[0],n=t[1],a=t[2],r=t[3],i=t[4],s=t[5],c=t[6],u=t[7],g=t[8],"string"==typeof o){if(!w.images[o])return void w.log("drawImage: invalid image name");d=w.images[o].image}else{if(!o&&!o.canvas&&!o.getContext)return void w.log("drawImage: image source object type. Must be an image already loaded by the loadImage command or a screen.");d=m.util.isFunction(o.canvas)?o.canvas():o}if(isNaN(n)||isNaN(a))return void w.log("drawImage: parameters x and y must be numbers");h(e,d,n,a,r,i,s,c,null,u,g)},!1,!0,["name","x","y","angle","anchorX","anchorY","alpha","scaleX","scaleY"]),m._.addCommand("drawSprite",function(e,t){var o,n,a,r,i,s,c,d,u,g,l;if(o=t[0],n=t[1],a=t[2],r=t[3],i=t[4],s=t[5],c=t[6],d=t[7],g=t[8],l=t[9],!w.images[o])return void w.log("drawSprite: invalid sprite name");if(!m.util.isInteger(n)||n>=w.images[o].frames.length||n<0)return void w.log("drawSprite: frame number is not valid");if(isNaN(a)||isNaN(r))return void w.log("drawSprite: parameters x and y must be numbers");u=w.images[o].image,h(e,u,a,r,i,s,c,d,w.images[o].frames[n],g,l)},!1,!0,["name","frame","x","y","angle","anchorX","anchorY","img","alpha","scaleX","scaleY"])}(),function(){"use strict";var g,e;function l(e,t,o,n){var a,r,i,s,c,d,u;if(a=(u=e.printCursor).font.calcWidth(e,t),n&&(u.x=Math.floor((u.cols-t.length)/2)*e.printCursor.font.width),!o&&!n&&a+u.x>e.width&&1<t.length)return r=(a-(a+u.x-e.width))/a,i=Math.floor(t.length*r),c=t.substring(0,i),d=t.substring(i,t.length),u.breakWord&&-1<(s=c.lastIndexOf(" "))&&(d=c.substring(s).trim()+d,c=c.substring(0,s)),l(e,c,o,n),void l(e,d,o,n);u.y+u.font.height>e.height&&("canvas"===u.font.mode&&e.screenObj.render(),function(e,t){var o,n,a,r,i;if(t<=0)return;for(g.commands.getImageData(e),n=t;n<e.height;n++)for(o=0;o<e.width;o++)r=4*(e.width*n+o),a=4*(e.width*(n-t)+o),i=e.imageData.data,e.imageData.data[a]=i[r],e.imageData.data[a+1]=i[1+r],e.imageData.data[a+2]=i[2+r],e.imageData.data[a+3]=i[3+r];for(n=e.height-t;n<e.height;n++)for(o=0;o<e.width;o++)a=4*(e.width*n+o),e.imageData.data[a]=0,e.imageData.data[a+1]=0,e.imageData.data[a+2]=0,e.imageData.data[a+3]=0;g.commands.setImageDirty(e)}(e,u.font.height),u.y-=u.font.height),u.font.printFunction(e,t,u.x,u.y),o?(u.x+=u.font.width*t.length,u.x>e.width-u.font.width&&(u.x=0,u.y+=u.font.height)):(u.y+=u.font.height,u.x=0)}function t(e,t){e.printCursor.breakWord=!!t[0]}function o(e,t){var o,n,a,r;if(o=t[0],n=t[1],null!=o){if(isNaN(o))return void g.log("setPos: parameter col must be a number");(a=Math.floor(o*e.printCursor.font.width))>e.width&&(a=e.width-e.printCursor.font.width),e.printCursor.x=a}if(null!=n){if(isNaN(n))return void g.log("setPos: parameter row must be a number");(r=Math.floor(n*e.printCursor.font.height))>e.height&&(r=e.height-e.printCursor.font.height),e.printCursor.y=r}}function n(e,t){var o,n;if(o=t[0],n=t[1],null!=o){if(isNaN(o))return void g.log("setPos: parameter x must be an integer");e.printCursor.x=Math.round(o)}if(null!=n){if(isNaN(n))return void g.log("setPos: parameter y must be an integer");e.printCursor.y=Math.round(n)}}e=window.pi,g=e._.data,e._.addCommand("print",function(e,t){var o,n,a,r,i;if(o=t[0],n=t[1],a=t[2],e.printCursor.font.height>e.height)return;void 0===o?o="":"string"!=typeof o&&(o=""+o);for(o=o.replace(/\t/g,"    "),r=o.split(/\n/),i=0;i<r.length;i++)l(e,r[i],n,a)},!1,!0,["msg","inLine","isCentered"]),e._.addCommand("piCalcWidth",function(e,t){return e.printCursor.font.width*t.length},!0,!1),e._.addCommand("canvasCalcWidth",function(e,t){return e.context.measureText(t).width},!0,!1),e._.addCommand("setWordBreak",t,!1,!0,["isEnabled"]),e._.addSetting("wordBreak",t,!0,["isEnabled"]),e._.addCommand("piPrint",function(e,t,o,n){var a,r,i,s;for(r=e.printCursor,i=e.pal,e.pal=[e.pal[0],e.fColor],a=0;a<t.length;a++)s=r.font.chars[t.charCodeAt(a)],e.screenObj.put(r.font.data[s],o+r.font.width*a,n);e.pal=i},!0,!1),e._.addCommand("canvasPrint",function(e,t,o,n){e.screenObj.render(),e.context.fillText(t,o,n)},!0,!1),e._.addCommand("bitmapPrint",function(e,t,o,n){var a,r,i,s,c,d,u;for(e.screenObj.render(),u=e.printCursor.font,c=u.image.width,d=Math.floor(c/u.sWidth),a=0;a<t.length;a++)r=u.chars[t.charCodeAt(a)],i=r%d*u.sWidth,s=Math.floor(r/d)*u.sHeight,e.context.drawImage(u.image,i,s,u.sWidth,u.sHeight,o+u.width*a,n,u.width,u.height)},!0,!1),e._.addCommand("setPos",o,!1,!0,["col","row"]),e._.addSetting("pos",o,!0,["col","row"]),e._.addCommand("setPosPx",n,!1,!0,["x","y"]),e._.addSetting("posPx",n,!0,["x","y"]),e._.addCommand("getPos",function(e){return{col:Math.floor(e.printCursor.x/e.printCursor.font.width),row:Math.floor(e.printCursor.y/e.printCursor.font.height)}},!1,!0,[]),e._.addCommand("getCols",function(e){return e.printCursor.cols},!1,!0,[]),e._.addCommand("getRows",function(e){return e.printCursor.rows},!1,!0,[]),e._.addCommand("getPosPx",function(e){return{x:e.printCursor.x,y:e.printCursor.y}},!1,!0,[])}(),function(){"use strict";var y,d,C;function v(e,t,o){var n,a,r,i,s,c,d,u;if(t){if(o=""+o,a=t.pos.width,r=t.pos.height,"v"===t.format.toLowerCase()&&(i=!0),i?o.length>r&&(o=o.substr(0,r)):o.length>a&&(o=o.substr(0,a)),n=y.commands.getPos(e),i)for(u=0,s=t.pos.col+Math.round(a/2),c=d=t.pos.row+1+Math.floor((r-o.length)/2);c<=r+d;c+=1)y.commands.setPos(e,[s,c]),y.commands.print(e,[o.charAt(u),!0]),u+=1;else s=t.pos.col+1+Math.floor((a-o.length)/2),c=t.pos.row+Math.round(r/2),y.commands.setPos(e,[s,c]),y.commands.print(e,[o,!0]);y.commands.setPos(e,[n.col,n.row])}}function b(e,t,o,n){o.push({pos:{col:e,row:t,width:null,height:null},pixels:{x:e*n.width+Math.round(n.width/2)-1,y:t*n.height+Math.round(n.height/2),width:null,height:null},format:" "})}function p(e,t,o,n){return"left"===o?--e:"right"===o?e+=1:"up"===o?--t:"down"===o&&(t+=1),t>=n.length||t<0||e<0||e>=n[t].length?" ":"*"!==n[t].charAt(e)||"left"!==o&&"right"!==o?"*"!==n[t].charAt(e)||"up"!==o&&"down"!==o?n[t].charAt(e):"|":"-"}C=window.pi,y=C._.data,d={single:[[218,196,194,191],[195,196,197,180],[192,196,193,217],[179,32,179]],double:[[201,205,203,187],[204,205,206,185],[200,205,202,188],[186,32,186]],singleDouble:[[213,205,209,184],[198,205,216,181],[212,205,207,190],[179,32,179]],doubleSingle:[[214,196,210,183],[199,196,215,182],[211,196,208,189],[186,32,186]],thick:[[219,223,219,219],[219,223,219,219],[223,223,223,223],[219,32,219]]},C._.addCommand("printTable",function(e,t){var o,n,a,r,i,s,c;if(o=t[0],a=t[1],r=t[2],i=!!t[3],!C.util.isArray(o))return void y.log("printTable: items must be an array");r=r||d.single;if(null==a)s=!1;else{if(!C.util.isArray(a))return void y.log("printTable: tableFormat must be an array");for(c=0;c<a.length;c++)if("string"!=typeof a[c])return void y.log("printTable: tableFormat must be an array of strings");s=!0}if("string"==typeof r&&d[r])r=d[r];else if(!C.util.isArray(r))return void y.log("printTable: borderStyle must be an integer or array");return s?function(e,t,o,n,a){var r,i,s,c,d,u,g,l,m,h,f;s="",u=[],l=y.commands.getPos(e),f=e.printCursor.font,a&&(l.col=Math.floor((y.commands.getCols(e)-n[0].length)/2));for(h=C.util.pad("",l.col," "),y.commands.setPos(e,[0,l.row]),r=0;r<n.length;r+=1){for(s+=h,i=0;i<n[r].length;i+=1)"*"===(c=n[r].charAt(i))?" - |"==(d=""+p(i,r,"left",n)+p(i,r,"right",n)+p(i,r,"up",n)+p(i,r,"down",n))?(s+=String.fromCharCode(o[0][0]),b(l.col+i,l.row+r,u,f)):"-- |"==d?(s+=String.fromCharCode(o[0][2]),b(l.col+i,l.row+r,u,f)):"-  |"==d?s+=String.fromCharCode(o[0][3]):" -||"==d?(s+=String.fromCharCode(o[1][0]),b(l.col+i,l.row+r,u,f)):"--||"==d?(s+=String.fromCharCode(o[1][2]),b(l.col+i,l.row+r,u,f)):"- ||"==d?s+=String.fromCharCode(o[1][3]):" -| "==d?s+=String.fromCharCode(o[2][0]):"--| "==d?s+=String.fromCharCode(o[2][2]):"- | "==d&&(s+=String.fromCharCode(o[2][3])):s+="-"===c?String.fromCharCode(o[0][1]):"|"===c?String.fromCharCode(o[3][0]):" ";s+="\n"}for(m=y.commands.getPos(e),function(e,t,o,n){var a,r,i,s;for(a=0;a<e.length;a+=1){for(r=e[a],i=r.pos.col+1-n.col,(s=r.pos.row+1-n.row)<t.length&&i<t[s].length&&(r.format=t[s].charAt(i)),i=r.pos.col-n.col,s=r.pos.row-n.row;i<t[s].length-1;)if(i+=1,"*"===t[s].charAt(i)&&"|"===p(i,s,"down",t)){r.pos.width=n.col+(i-1)-r.pos.col,r.pixels.width=(r.pos.width+1)*o.width;break}for(null===r.pos.width&&(r.pos.width=n.col+(i-1)-r.pos.col,r.pixels.width=(r.pos.width+1)*o.width+1);s<t.length-1;)if("*"===t[s+=1].charAt(i)&&"-"===p(i,s,"left",t)){r.pos.height=n.row+(s-1)-r.pos.row,r.pixels.height=(r.pos.height+1)*o.height;break}null===r.pos.height&&(r.pos.height=n.row+(s-1)-r.pos.row,r.pixels.height=(r.pos.height+1)*o.height+1)}}(u,n,f,l),s=s.substr(0,s.length-1),y.commands.print(e,[s]),r=g=0;r<t.length;r+=1)if(C.util.isArray(t[r]))for(i=0;i<t[r].length;i+=1)g<u.length&&(v(e,u[g],t[r][i],l.col),g+=1);else v(e,u[g],t[r],l.col),g+=1;return y.commands.setPos(e,[0,m.row+n.length]),u}(e,o,r,a,i):(n=y.commands.getCols(e),function(e,t,o,n){var a,r,i,s,c,d,u,g,l,m,h,f,v,p;for(i="",h=[],f=e.printCursor.font,v=y.commands.getPos(e),a=0;a<t.length;a+=1){for((u=Math.floor(o/t[a].length))<3&&(u=3),g=(u-2)*t[a].length+t[a].length+1,l=Math.round((o-g)/2),s=C.util.padL("",l," "),d=c=s,r=0;r<t[a].length;r+=1)b(r*(u-1)+l,2*a+v.row,h,f),(p=h[h.length-1]).pos.width=u-1,p.pos.height=2,p.pixels.width=p.pos.width*f.width,p.pixels.height=p.pos.height*f.height,r===t[a].length-1&&(p.pixels.width+=1),a===t.length-1&&(p.pixels.height+=1),c+=String.fromCharCode(n[3][0])+C.util.pad(t[a][r],u-2,String.fromCharCode(n[3][1])),r===t[a].length-1&&(c+=String.fromCharCode(n[3][2])),0===a&&(s+=0===r?String.fromCharCode(n[0][0]):String.fromCharCode(n[0][2]),s+=C.util.pad("",u-2,String.fromCharCode(n[0][1])),r===t[a].length-1&&(s+=String.fromCharCode(n[0][3]))),m=a===t.length-1?2:1,d+=0===r?String.fromCharCode(n[m][0]):String.fromCharCode(n[m][2]),d+=C.util.pad("",u-2,String.fromCharCode(n[m][1])),r===t[a].length-1&&(d+=String.fromCharCode(n[m][3]));0===a&&(i+=s+"\n"),i+=c+"\n",i+=d+"\n"}return i=i.substr(0,i.length-1),y.commands.print(e,[i]),h}(e,o,n,r))},!1,!0,["items","tableFormat","borderStyle","isCentered"])}(),function(){"use strict";var C,b;b=window.pi,C=b._.data,b._.addCommand("draw",function(e,t){var o,n,a,r,i,s,c,d,u,g,l,m,h,f,v,p,y;if("string"!=typeof(o=t[0]))return void C.log("draw: drawString must be a string.");if(o=o.toUpperCase(),n=o.match(/(#[A-Z0-9]+)/g))for(a=0;a<n.length;a++)o=o.replace("C"+n[a],"O"+a);for(o=(o=o.replace(/(TA)/gi,"T")).split(/\s+/).join(""),r=/(?=C|C#|R|B|F|G|L|A|T|D|G|H|U|E|N|M|P|S)/,i=o.split(r),s=!1,c={x:e.x,y:e.y,angle:0},u=d=!1,a=0;a<i.length;a++){switch((g=i[a].split(/(\d+)/))[0]){case"C":l=Number(g[1]),e.screenObj.setColor(l),d=!0;break;case"O":l=n[g[1]],e.screenObj.setColor(l),d=!0;break;case"D":m=b.util.getInt(g[1],1),h=b.util.degreesToRadian(90)+e.angle,e.x+=Math.round(Math.cos(h)*m),e.y+=Math.round(Math.sin(h)*m);break;case"E":m=b.util.getInt(g[1],1),m=Math.sqrt(m*m+m*m),h=b.util.degreesToRadian(315)+e.angle,e.x+=Math.round(Math.cos(h)*m),e.y+=Math.round(Math.sin(h)*m);break;case"F":m=b.util.getInt(g[1],1),m=Math.sqrt(m*m+m*m),h=b.util.degreesToRadian(45)+e.angle,e.x+=Math.round(Math.cos(h)*m),e.y+=Math.round(Math.sin(h)*m);break;case"G":m=b.util.getInt(g[1],1),m=Math.sqrt(m*m+m*m),h=b.util.degreesToRadian(135)+e.angle,e.x+=Math.round(Math.cos(h)*m),e.y+=Math.round(Math.sin(h)*m);break;case"H":m=b.util.getInt(g[1],1),m=Math.sqrt(m*m+m*m),h=b.util.degreesToRadian(225)+e.angle,e.x+=Math.round(Math.cos(h)*m),e.y+=Math.round(Math.sin(h)*m);break;case"L":m=b.util.getInt(g[1],1),h=b.util.degreesToRadian(180)+e.angle,e.x+=Math.round(Math.cos(h)*m),e.y+=Math.round(Math.sin(h)*m);break;case"R":m=b.util.getInt(g[1],1),h=b.util.degreesToRadian(0)+e.angle,e.x+=Math.round(Math.cos(h)*m),e.y+=Math.round(Math.sin(h)*m);break;case"U":m=b.util.getInt(g[1],1),h=b.util.degreesToRadian(270)+e.angle,e.x+=Math.round(Math.cos(h)*m),e.y+=Math.round(Math.sin(h)*m);break;case"P":case"S":f=b.util.getInt(g[1],0),e.screenObj.paint(e.x,e.y,f,"S"===g[0]),d=!0;break;case"A":v=b.util.getInt(g[1],1),p=b.util.getInt(g[3],1),y=b.util.getInt(g[5],1),u=!0;break;case"T":e.angle=b.util.degreesToRadian(b.util.getInt(g[1],1)),d=!0;break;case"M":e.x=b.util.getInt(g[1],1),e.y=b.util.getInt(g[3],1),d=!0;break;default:d=!0}d||(u?e.screenObj.arc(e.x,e.y,v,p,y):e.screenObj.line(c.x,c.y,e.x,e.y)),u=d=!1,s&&(s=!1,e.x=c.x,e.y=c.y,e.angle=c.angle),"N"===g[0]?s=!0:c={x:e.x,y:e.y,angle:e.angle},"B"===g[0]&&(d=!0)}},!1,!0,["drawString"])}(),function(){"use strict";var C,e,a,c,s,m,b,w,h;function d(t,n){e(),n.addEventListener("canplay",function e(){t.pool.push({audio:n,timeout:0,volume:1}),n.removeEventListener("canplay",e),a()}),n.onerror=function(){var e,t,o;e=["MEDIA_ERR_ABORTED - fetching process aborted by user","MEDIA_ERR_NETWORK - error occurred when downloading","MEDIA_ERR_DECODE - error occurred when decoding","MEDIA_ERR_SRC_NOT_SUPPORTED - audio/video not supported"],0<(o=(t=n.error.code)-1)&&o<e.length?C.log("createAudioPool: "+e[o]):C.log("createAudioPool: unknown error - "+t),a()}}function t(e){var t,o,n,a;if(t=e[0],isNaN(t)||t<0||1<t)C.log("setVolume: volume needs to be a number between 0 and 1.");else{for(o in C.volume=t,b)0===t?(b[o].master.gain.exponentialRampToValueAtTime(.01,b[o].audioContext.currentTime+.1),b[o].master.gain.setValueAtTime(0,b[o].audioContext.currentTime+.11)):b[o].master.gain.exponentialRampToValueAtTime(t,b[o].audioContext.currentTime+.1);for(o in c)for(n in c[o].pool)(a=c[o].pool[n]).audio.volume=C.volume*a.volume}}h=window.pi,C=h._.data,e=h._.wait,a=h._.resume,c={},m=null,b={},w=s=0,h._.addCommand("createAudioPool",function(e){var t,o,n,a,r,i;if(t=e[0],o=e[1],!t)return void C.log("createAudioPool: No sound source provided.");null==o&&(o=1);if(o=Math.round(o),isNaN(o)||o<1)return void C.log("createAudioPool: parameter poolSize must be an integer greater than 0");for(a={pool:[],index:0},n=0;n<o;n++)r=new Audio(t),d(a,r);return c[i="audioPool_"+s]=a,s+=1,i},!1,!1,["src","poolSize"]),h._.addCommand("deleteAudioPool",function(e){var t,o;if(t=e[0],c[t]){for(o=0;o<c[t].pool.length;o++)c[t].pool[o].audio.pause();delete c[t]}else C.log("deleteAudioPool: "+t+" not found.")},!1,!1,["audioId"]),h._.addCommand("playAudioPool",function(e){var t,o,n,a,r,i,s;if(t=e[0],o=e[1],n=e[2],a=e[3],!c[t])return void C.log("playAudioPool: sound ID "+t+" not found.");null==o&&(o=1);if(isNaN(o)||o<0||1<o)return void C.log("playAudioPool: volume must be a number between 0 and 1 (inclusive).");null==n&&(n=0);if(isNaN(n)||n<0)return void C.log("playAudioPool: startTime must be a number greater than or equal to 0.");null==a&&(a=0);if(isNaN(a)||a<0)return void C.log("playAudioPool: duration must be a number greater than or equal to 0.");if(0===(r=c[t]).pool.length)return void C.log("playAudioPool: sound pool has no sounds loaded.");s=r.pool[r.index],(i=s.audio).volume=C.volume*o,s.volume=o,i.currentTime=n,0<a&&(clearTimeout(s.timeout),s.timeout=setTimeout(function(){i.pause(),i.currentTime=0},1e3*a));i.play(),r.index+=1,r.index>=r.pool.length&&(r.index=0)},!1,!1,["audioId","volume","startTime","duration"]),h._.addCommand("stopAudioPool",function(e){var t,o,n;if(null==(t=e[0])){for(o in c)for(n=0;n<c[o].pool.length;n+=1)c[o].pool[n].audio.pause();return}if(!c[t])return void C.log("stopAudioPool: audio ID "+t+" not found.");for(o=0;o<c[t].pool.length;o+=1)c[t].pool[o].audio.pause()},!1,!1,["audioId"]),h._.addCommand("sound",function(e){var t,o,n,a,r,i,s,c,d,u,g,l;if(t=Math.round(e[0]),o=e[1],n=e[2],a=e[3],r=e[4],i=e[5],s=e[6],isNaN(t))return void C.log("sound: frequency needs to be an integer.");null==o&&(o=1);if(isNaN(o)||o<0)return void C.log("sound: duration needs to be a number equal to or greater than 0.");null==n&&(n=1);if(isNaN(n)||n<0||1<n)return void C.log("sound: volume needs to be a number between 0 and 1.");null==i&&(i=0);if(isNaN(i)||i<0)return void C.log("sound: attack needs to be a number equal to or greater than 0.");null==r&&(r=0);if(isNaN(r)||r<0)return void C.log("sound: delay needs to be a number equal to or greater than 0.");null==s&&(s=.1);if(isNaN(s))return void C.log("sound: decay needs to be a number.");null==a&&(a="triangle");if(h.util.isArray(a)){if(2!==a.length||0===a[0].length||0===a[1].length||a[0].length!=a[1].length)return void C.log("sound: oType array must be an array with two non empty arrays of equal length.");for(d=[],u=0;u<a.length;u++){for(g=0;g<a[u].length;g++)if(isNaN(a[u][g]))return void C.log("sound: oType array must only contain numbers.");d.push(new Float32Array(a[u]))}a="custom"}else{if("string"!=typeof a)return void C.log("sound: oType needs to be a string or an array.");if(-1===["triangle","sine","square","sawtooth"].indexOf(a))return void C.log("sound: oType is not a valid type. oType must be one of the following: triangle, sine, square, sawtooth.")}m||(l=window.AudioContext||window.webkitAudioContext,m=new l);return c=i+o+s,C.commands.createSound("sound",m,t,n,i,o,s,c,a,d,r)},!1,!1,["frequency","duration","volume","oType","delay","attack","decay"]),h._.addCommand("createSound",function(e,t,o,n,a,r,i,s,c,d,u){var g,l,m,h,f,v,p,y;g=t.createOscillator(),l=t.createGain(),(y=t.createGain()).gain.value=C.volume,g.frequency.value=o,"custom"===c?(h=d[0],f=d[1],m=t.createPeriodicWave(h,f),g.setPeriodicWave(m)):g.type=c;l.gain.value=0===a?n:0;g.connect(l),l.connect(y),y.connect(t.destination),v=t.currentTime+u+.01,0<a&&(a=Math.floor(1e4*a)/1e4,l.gain.setValueCurveAtTime(new Float32Array([0,n]),v,a),v+=1e-4);0<r&&(r=Math.floor(1e4*r)/1e4,l.gain.setValueCurveAtTime(new Float32Array([n,.8*n]),v+a,r),v+=1e-4);0<i&&(i=Math.floor(1e4*i)/1e4,l.gain.setValueCurveAtTime(new Float32Array([.8*n,.1*n,0]),v+a+r,i));return g.start(v),g.stop(v+s),p="sound_"+w,w+=1,b[p]={oscillator:g,master:y,audioContext:t},setTimeout(function(){delete b[p]},1e3*(v+s)),p},!0,!1,[]),h._.addCommand("stopSound",function(e){var t,o;if(null==(t=e[0])){for(o in b)b[o].oscillator.stop(0);return}if(!b[t])return;b[t].oscillator.stop(0)},!1,!1,["soundId"]),h._.addCommand("setVolume",t,!1,!1,["volume"]),h._.addSetting("volume",t,!1,["volume"])}(),function(){"use strict";var h,f,c,d,u;function g(e){var t,o,n,a,r,i,s;if(a=0,!((t=f[e]).noteId>=t.notes.length)){switch(i=!1,(o=t.notes[t.noteId])[t.extra=0].charAt(0)){case"A":case"B":case"C":case"D":case"E":case"F":case"G":n=(n=(n=(n=(n=(n=(n=(n=(n=(n=o[0]).replace(/\+/g,"#")).replace("C-","B")).replace("D-","C#")).replace("E-","D#")).replace("G-","F#")).replace("A-","G#")).replace("B-","A#")).replace("E#","F")).replace("B#","C"),0<o.indexOf("..")?t.extra=1.75*t.noteLength:0<o.indexOf(".")&&(t.extra=1.5*t.noteLength),n=n.replace(/\./g,""),c[n]&&(s=t.octave+t.octaveExtra)<c[n].length&&(a=c[n][s]),1<o.length&&-1===o[1].indexOf(".")&&(r=u.util.getInt(o[1],1),t.extra=l(r)),i=!0;break;case"N":0<=(r=u.util.getInt(o[1],0))&&r<d.length&&(a=d[r]),i=!0;break;case"O":0<=(r=u.util.getInt(o[1],4))&&r<c.A.length&&(t.octave=r);break;case">":t.octave+=1,t.octave>=c.A.length&&(t.octave=c.A.length-1);break;case"<":--t.octave,t.octave<0&&(t.octave=0);break;case"L":r=u.util.getInt(o[1],1),t.noteLength=l(r);break;case"T":32<=(r=u.util.getInt(o[1],120))&&r<256&&(t.tempo=60/r);break;case"M":switch(o[0]){case"MS":t.pace=.75;break;case"MN":t.pace=.875;break;case"ML":t.pace=1;break;case"MU":r=u.util.getInt(o[1],0),t.octaveExtra=r;break;case"MY":r=u.util.getInt(o[1],25),t.attackRate=r/100;break;case"MX":r=u.util.getInt(o[1],25),t.sustainRate=r/100;break;case"MZ":r=u.util.getInt(o[1],25),t.decayRate=r/100;break;case"MW":t.fullNote=!t.fullNote}break;case"P":i=!0,r=u.util.getInt(o[1],1),t.extra=l(r);break;case"V":(r=u.util.getInt(o[1],50))<0?r=0:100<r&&(r=100),t.volume=r/100;break;case"W":"WS"===o[0]?t.type="sine":"WQ"===o[0]?t.type="square":"WW"===o[0]?t.type="sawtooth":"WT"===o[0]?t.type="triangle":(r=u.util.getInt(o[1],-1),t.waveTables[r]&&(t.type=r))}0<t.extra?t.interval=t.tempo*t.extra*t.pace*4:t.interval=t.tempo*t.noteLength*t.pace*4,0<a&&function(e,t){var o,n,a,r,i,s,c;r=e.volume,o=e.interval*e.attackRate,n=e.interval*e.sustainRate,a=e.interval*e.decayRate,c=e.fullNote&&o+n+a>e.interval?e.interval:o+n+a;"string"==typeof e.type?(s=e.type,i=null):(i=e.waveTables[e.type],u.util.isArray(i)?s="custom":(s=i,i=null));e.sounds.push(h.commands.createSound("play",e.audioContext,t,r,o,n,a,c,s,i,e.time))}(t,a),t.noteId+=1,t.noteId<t.notes.length?(i&&(t.time+=t.interval),g(e)):setTimeout(function(){f[e]&&function(e){var t,o;for(o=f[e].trackIds,t=o.length;0<=t;t--)f.splice(o[t],1)}(e)},1e3*(t.time+t.interval))}}function l(e){return 1<=e&&e<65?1/e:.875}u=window.pi,h=u._.data,c={A:[27.5,55,110,220,440,880,1760,3520,7040,14080],"A#":[29.14,58.27,116.541,233.082,466.164,932.328,1864.655,3729.31,7458.62,14917.24],B:[30.87,61.74,123.471,246.942,493.883,987.767,1975.533,3951.066,7902.132,15804.264],C:[16.35,32.7,65.41,130.813,261.626,523.251,1046.502,2093.005,4186.009,8372.018],"C#":[17.32,34.65,69.296,138.591,277.183,554.365,1108.731,2217.461,4434.922,8869.844],D:[18.35,36.71,73.416,146.832,293.665,587.33,1174.659,2349.318,4698.636,9397.272],"D#":[19.45,38.89,77.782,155.563,311.127,622.254,1244.508,2489.016,4978.032,9956.064],E:[20.6,41.2,82.407,164.814,329.628,659.255,1318.51,2637.021,5274.042,10548.084],F:[21.83,43.65,87.307,174.614,349.228,698.456,1396.913,2793.826,5587.652,11175.304],"F#":[23.12,46.25,92.499,184.997,369.994,739.989,1479.978,2959.955,5919.91,11839.82],G:[24.5,49,97.999,195.998,391.995,783.991,1567.982,3135.964,6271.928,12543.856],"G#":[25.96,51.91,103.826,207.652,415.305,830.609,1661.219,3322.438,6644.876,13289.752]},d=[0,16.35,17.32,18.35,19.45,20.6,21.83,23.12,24.5,25.96,27.5,29.14,30.87,32.7,34.65,36.71,38.89,41.2,43.65,46.25,49,51.91,55,58.27,61.74,65.406,69.296,73.416,77.782,82.407,87.307,92.499,97.999,103.826,110,116.541,123.471,130.813,138.591,146.832,155.563,164.814,174.614,184.997,195.998,207.652,220,233.082,246.942,261.626,277.183,293.665,311.127,329.628,349.228,369.994,391.995,415.305,440,466.164,493.883,523.251,554.365,587.33,622.254,659.255,698.456,739.989,783.991,830.609,880,932.328,987.767,1046.502,1108.731,1174.659,1244.508,1318.51,1396.913,1479.978,1567.982,1661.219,1760,1864.655,1975.533,2093.005,2217.461,2349.318,2489.016,2637.021,2793.826,2959.955,3135.964,3322.438,3520,3729.31,3951.066,4186.009,4434.922,4698.636,4978.032,5274.042,5587.652,5919.91,6271.928,6644.876,7040,7458.62,7902.132,8372.018,8869.844,9397.272,9956.064,10548.084,11175.304,11839.82,13289.752,14080,14917.24,15804.264],f=[],u._.addCommand("play",function(e){var t,o,n,a;"string"==typeof(t=e[0])?o=function(e){var t,o,n,a,r,i,s,c,d,u,g,l,m;if("string"==typeof(o=e[0])){for(o=o.split(/\s+/).join("").toUpperCase(),g=[],l=0;-1<l;)-1<(l=o.indexOf("[["))&&(m=o.indexOf("]]",l),g.push(o.substring(l,m+2)),r=g.length-1,o=o.replace(g[r],"W"+r));for(r=0;r<g.length;r++)if(g[r]=JSON.parse(g[r]),2===g[r].length&&g[r][0].length===g[r][1].length)for(i=0;i<2;i+=1){for(s=0;s<g[r][i].length;s++)g[r][i][s]=parseFloat(g[r][i][s]),isNaN(g[r][i][s])&&(g[r][i][s]=0);g[r][i]=new Float32Array(g[r][i])}else g[r]="triangle",h.log("play: wavetables in playstring must have 2 arrays of the same length. Defaulting to triangle wave.");for(t=o.split(","),u=[],n=new RegExp("(?=WS|WQ|WW|WT|W\\d[\\d]?|V\\d|Q\\d|O\\d|\\<|\\>|N\\d\\d?|L\\d\\d?|MS|MN|ML|MU\\d|MU\\-\\d|MK\\d[\\d]?[\\d]?|MZ\\d[\\d]?[\\d]?|MX\\d[\\d]?[\\d]?|MY\\d[\\d]?[\\d]?|MW|P[\\d]?|T\\d|[[A|B|C|D|E|F|G][\\d]?[\\+|\\-|\\#|\\.\\.?]?)"),r=0;r<t.length;r++)for(t[r]=t[r].replace(/SINE/g,"WS"),t[r]=t[r].replace(/SQUARE/g,"WQ"),t[r]=t[r].replace(/SAWTOOTH/g,"WW"),t[r]=t[r].replace(/TRIANGLE/g,"WT"),t[r]=t[r].replace(/MD/g,"MZ"),t[r]=t[r].replace(/MA/g,"MY"),t[r]=t[r].replace(/MT/g,"MX"),t[r]=t[r].replace(/MF/g,"MW"),t[r]=t[r].replace(/MO/g,"MU"),a=t[r].split(n),f.push({audioContext:new AudioContext,notes:[],noteId:0,decayRate:.2,attackRate:.15,sustainRate:.65,fullNote:!1,extra:1,space:"normal",interval:0,time:0,tempo:.5,noteLength:.25,pace:.875,octave:4,octaveExtra:0,volume:1,trackIds:u,type:"triangle",waveTables:g,sounds:[]}),c=f.length-1,u.push(c),i=0;i<a.length;i++)-1<(d=a[i].indexOf("-"))&&-1==="ABCDEFG".indexOf(a[i][0])?f[c].notes.push([a[i].substr(0,d),a[i].substr(d)]):f[c].notes.push(a[i].split(/(\d+)/));return c}h.log("play: playString needs to be a string.")}([t]):u.util.isInteger(t)&&function(e){e.noteId=0,e.decayRate=.2,e.sustainRate=.65,e.fullNote=!1,e.extra=1,e.space="normal",e.interval=0,e.time=0,e.tempo=.5,e.noteLength=.25,e.pace=.875,e.octave=4,e.octaveExtra=0,e.volume=1,e.type="triangle"}(f[o=t]);if(f[o])for(a=0;a<f[o].trackIds.length;a++)n=f[o].trackIds[a],f[n].noteId=0,g(n);else h.log("Playstring needs to be a string or a integer");return o},!1,!1,["playString"]),u._.addCommand("stopPlay",function(e){var t,o,n,a;if(null==(t=e[0])){for(o=0;o<f.length;o++)for(a=0;a<f[o].sounds.length;a++)h.commands.stopSound([f[o].sounds[a]]);return void(f=[])}if(!f[t])return void h.log("stopPlay: track ID "+t+" not found.");for(n=f[t].trackIds,o=0;o<n.length;o++){for(a=0;a<f[n[o]].sounds.length;a++)h.commands.stopSound([f[n[o]].sounds[a]]);f[n[o]]=null}},!1,!1,["trackId"])}(),function(){"use strict";pi._.data.commands.loadFont(["0,14004,2602800,oidnrt,3po8cff,3vnhgs4,1uv77og,3hpuv70,73g00,3vjgoef,3o00000,0,71ji,k9o000,1sg,1ogoc3p,jp4ir8,19fvt51,31ovfn3,cevfh,31vrooc,1tv52h8,2g0kula,2d2hcsp,8r2jg0,3vvvj,f33opv,8efh0g,3ho84fj,2200idv,2c40237,3r4g000,87000i,3vv901h,3jptvvv,3vnjpsc,0,g8420,22h800,57p9,3p80ea7,237000i,889019,111cc02,0,88420g,g4211,28oc,140011o,1000000,11000,1s00000,400,3333100,sjam9o,1g8423,203i888,1s060ho,hg0654,2fgg1sg,1o2e01p,3p4e07,211hgg0,oi64hg,1h4e13,31g0c,o00100,gg444,41000v,v0010,1088803,2110080,sqb41o,1h4if4,20729oi,1o07421,1o0s94,19701sg,1sgf03p,3p0g03,384p4c0,14if4i8,1o8423,201o84i,s04ihg,2h40842,43o12r,1ul8g25,2blej03,28ka4s0,s97i10,1h4ib3,10729oi,140321g,ho0v21,21014i,14i6025,a4k404,1al9ok0,12a22i4,24k421,7g8og,1s06210,21g1gc3,30g0c2,42300g,2g00000,1v,o40000,1o2f3,10210s9,s003i1,1o0211,251g00c,14s700g,23gg800,6kjo4s,ge4i94,8021,g04,1884218,3180421,21000a,1ul8g01,3294i00,64i8o0,c5310,200ca30,2102ok8,g003j0,3jo0023,221000i,14i6g00,24k400,8lbsk0,a2118,14i70,2e01s44,u02230,20g0630,31g082,622019,1000001,74a5u0,sg83go,3i80i93,30110oi,1oe22jg,joqh07,17hlg4,1o2f39g,33g4u6j,2841o66,gkc971,34g0oie,e411h4,3gsi030,211osh6,423hg0,1g84720,230g8e9,c94jp4,1goi97i,133p0u8,u06pmr,1sjf94j,34i8c93,94hg0c,14i604l,3inbvgk,2603ooc,1tdvstn,3phsif4,2prfurv,2qc67i1,3ooe4n,42rp8k,gs473h,jh8ua3,561igo,ggc231,30gg842,e110oi,14c2229,i8o887,94i9si,1km94jh,301s003,2703o00,40108,3g000f4,u,40g951,108d0kc,630gg0,g84000,2a8i000,92a800,1404g28,2mkll5,1lbfvdv,2rv210g,10g8421,u10g9s,84u118,2hbka50,7oka,1s217g,11bka5e,252h8ka,ka0fg8,n8kat0,21fg0ka,lu000j,30g9s00,7g84,8421o0,g84vg,1v,84210g,1og8000,vg0084,9v210g,1og8722,252hcka,kb421s,u842,352nc00,3u00fo0,7cka5i,42p81v,vg1b,2o01r51,vg03u0,ka5fo0,3u00f,320001v,ka52h8,3o0043h,21o007,843h00,ua52,252nska,9v217s,10g84u0,7,84vvvv,3vvu000,vvvtgo,1goc60o,1goc63f,3vvo000,2e53g,hp5upf,287i90g,10g003s,2h81uh4,44no00,1ska200,18s880,etgg84,1sc94hh,3hh4u94,267k631,15jfk3p,2i9s0fb,1f0004u,2iuo01p,221so70,64i94i,3u0vg7s,gs40,e01088,1o0020g,23g0452,421042,425110,3g0800,5500kk,oi6000,400,c,1gg,12go062,252g1o2,88f000,1ose00",6,6,null,!0]),pi._.data.commands.loadFont(["0,ugs,3gvtm2u,1tvmss7,vtskvf,2v710g0,g8efjg,21008e2,vfl8gs,g8e77p,311o003,f7hg00,3vvpoc7,vvu045,h8igg0,3v1mrdm,3efu71h,1ep4i8o,oi94hg,33oof4j,34233hg,u97i95,cq08mn,2pspiqc,21gsfn3,400233,2v3go40,gsv213,3jggka5,a50180,1val6h8,2h80e9j,94hj4s,3p,3jo08ef,24fjghv,gsvah0,2100842,lfjgg0,82fgg,2000044,v41000,8421,3g00098,1voa800,8477r,3g000vf,2e21000,0,8e7,4200g0,18ka000,kaf,2afih80,gug70b,33000p9,442ac0,gk4aki,1380844,0,ggg841,100g41,211100,k4fh1,1000021,fh0g00,0,2110000,f00000,0,210000g,2222200,1p2jamb,jg08ca,4213s0,1p21332,no0sh0,260k9o0,8ca97o,11o1ug8,u0k9o0,oggf4a,jg1uh1,442100,1p2h74a,jg0sh8,2f0g9o0,84000,2100042,10gg,888820,20g000f,2007o00,10820gg,2200sh0,22200g0,1p2nalq,3g08a8,2hfka40,3oi9729,ng0c98,g828o0,3oi94i9,ng1u94,e42bs0,3si8721,700c98,g9i8s0,252hfka,k80s42,4211o0,s4214i,1301ia5,c52j60,3gg8421,no12ra,2l8ka40,25il9ka,k80sh8,2h8k9o0,3oi9721,700sh8,2h8l9o3,3oi9731,1680sh8,e0k9o0,3ta4210,23g12h8,2h8k9o0,252h8k9,11012h8,2lal980,24ka22h,14812h5,4211o0,3t22222,no1og8,g843g0,210820g,g41o42,4213g0,gkh8g0,0,1v,g82000,7,17k9u0,30g8539,lg0007,h849o0,c216kq,1jc0007,hfk1o0,oi8e21,700006,2h8jo5s,30ga6i9,m80806,4211o0,4030ga,k9pg84,2a62h40,1g84210,23g000d,lalak0,mcka,k80007,h8k9o0,u4i9,323g006,2i93g8e,r6i1,700007,2g70bo0,10gu421,hg0008,2h8kpk0,h8k9,1100008,2lal980,h511,1480008,2h8jo5s,v111,7o0642,o210c0,g84010,2101g42,321300,15c0000,45,h8kbs0,1p2g8jg,309o0i0,i94hs0,o0e8nq,3g0sh6,274hs0,240c13i,13o0o06,274hs0,g0c13i,13o0007,g83gcc,1p2e8nq,3g1207,hfk1o0,1g0e8nq,3g1406,4211o0,1p2c210,23g0o06,4211o0,248a8nq,k80840,e8nq40,c0v43h,7o000c,267khk0,skifki,14o08a0,e8k9o0,12074a,jg0g40,e8k9o0,gk08ka,jg0g40,h8k9o0,1208k9,3g9p245,h8igg0,240h8ka,jg0847,2g83og8,oi8e22,ng12af,24fh0g0,3ome4it,if4c52,e212go,o0c13i,13o0c06,4211o0,88074a,jg0022,h8k9o0,1lc0f4a,k80qj0,pakq40,1p4i7g3,3g00oi9,c07g00,g04442,jg0000,v84000,fg8,g00iq6,r5cecv,15kbdiq,3s84080,842100,aaa2g,2g000k5,555000,1348p26,1268ll5,1l5d9ba,3ctreup,3erm842,4210g8,g84270,210g84e,4e10g8,ka52n8,2h8k000,fh8ka,s270,210ga5e,21eh8ka,ka52h8,2h8k00f,21eh8ka,kat0no,a52,25fg000,g8s270,0,e10g8,g8421s,842,4fo000,7s,210g842,43p0g8,7s,842,4fp0g8,g87i1s,210ga52,252p8ka,ka5i1s,3,342p8ka,katg7s,f,30ep8ka,ka5i1c,2h8k00f,30fo000,katg7c,2h8k84f,30fo000,ka52ns,f,30fp0g8,7s,2h8ka52,253o000,g87i1s,3,343p0g8,1s,2h8ka52,25fp8ka,g8vi7s,210g842,4e0000,1s,210hvvv,3vvvvvv,7v,3vvvose,se73ho,e73hos,1osfvvv,3vg0000,cqki,2i400e8,2u8ni10,1uh842,4000fq,252h8k0,3t28322,no0007,2ka5100,i94jl,2200cp,2210g80,3s8e8k9,313sc98,1voa8o0,oigoa9,mc0e83,f8c5s0,impdd,g00117,2iqbp10,oggf41,1g0sh8,2h8ka40,v07o1,3o0084f,24203s0,g41110,7o0888,8203s0,c94i10,210g842,4252go,oc0fo0,31g00cp,206co00,oi9300,0,630000,1g,721,216h8c,3h4i94g,oi2,8f0000,e73h,3000000",6,8,null,!0]),pi._.data.commands.loadFont(["0,0,1v839c1,2upj0bu,1vfvmvv,31ufvru,1mftvnu,1u3g400,83gv7u,1u3g400,s7oe7u,3v7oe3s,810e3s,3v7oe3s,61s,u1g000,3vvvpu3,31ufvvv,3opi2,116cf00,3vs76dt,2upjgvv,7ge3rt,36cpj3o,u6cpj6,u1gvgo,vj6fpg,o71s70,1vm6vr3,1hmfpm0,2clkf77,3jjomkp,20e1u7u,3se1000,10sfnu,v0s0g0,c3ovgo,c7sf0o,1j6cpj6,1j00pg0,1vtnmrr,dhm6o0,v66e3c,1m3hj3o,0,1v7svg0,c3ovgo,1v3o67v,c3ovgo,c1g600,c1g60o,1v3o600,1g37u,61g000,30o7u,1g30000,1g60,30fs000,28pnv,1j28000,1gf3u,3vvu000,fvvru,u1g000,0,0,o7gu1g,o00c00,1m6or00,0,1m6pvjc,3v6or00,o7pg3o,6fgc00,cdj0o,o6dhg0,s6oe3m,3ecotg0,1g61g00,0,c30o30,1g30600,1g3060o,c30o00,6cf7v,u6c000,30c7s,o30000,0,30c30,7s,0,0,30c00,30o61g,1gc1000,1ucdjmu,3recv00,o70c1g,o31v00,1sco31o,1gcpv00,1sco31o,6cou00,e3or6c,3v0o7g0,3uc1u0c,6cou00,s61g7o,36cou00,3uco30o,o30c00,1scpj3o,36cou00,1scpj3s,61gs00,30c00,30c00,30c00,30c30,c30o60,1g30600,1v00,fo000,1g3060c,c30o00,1sco30o,o00c00,1ucdnmu,3fc0u00,o7hj6c,3ucpj00,3u6cpjs,1j6dv00,u6dg60,306cf00,3s6opj6,1j6pu00,3v64q3o,1k65vg0,3v64q3o,1k61s00,u6dg60,376cfg0,36cpj7s,36cpj00,1s30c1g,o30u00,f0o30c,36cou00,3j6cr3o,1m6dpg0,3o60o30,1h6dvg0,33etvnu,3bcdhg0,33edtmu,37cdhg0,s6phm6,336oe00,3u6cpjs,1g61s00,1scpj6c,3e7g700,3u6cpjs,1m6dpg0,1scpo3g,ecou00,3ub8c1g,o30u00,36cpj6c,36cpv00,36cpj6c,367gc00,33cdhmm,3vethg0,33ccr1o,s6phg0,36cpj3o,o30u00,3vcd30o,p6dvg0,1s60o30,1g60u00,3060c0o,60c0g0,1s1g60o,c1gu00,83gr66,0,0,7v,o30600,0,u0c,1ucotg0,3g60o3s,1j6dn00,u6c,30cou00,e0o33s,36cotg0,u6c,3uc0u00,s6oo7g,1g61s00,tmc,367o37o,3g60r3m,1j6dpg0,o00s1g,o30u00,60030c,6cpj3o,3g60pjc,1s6ppg0,1o30c1g,o30u00,1j7u,3vddhg0,1u6c,36cpj00,u6c,36cou00,1n36,1j7oo7g,tmc,367o30u,1n3m,1j61s00,v60,1s0pu00,830v1g,o38600,1j6c,36cotg0,1j6c,367gc00,1hmm,3vfsr00,1hjc,s6phg0,1j6c,367o37o,1v4o,o69v00,e30c70,o30700,c1g600,c1g600,3g30c0s,o31o00,1rdo000,0,10e3c,33cdvg0,1scpg6c,1s1g33o,co06c,36covg0,e00u6c,3uc0u00,1vc6f06,v6cfo0,3600u0c,1ucovg0,3g00u0c,1ucovg0,o30u0c,1ucovg0,u60,307g31o,1vc6f36,1v60f00,3600u6c,3uc0u00,3g00u6c,3uc0u00,3600s1g,o30u00,1ucce0o,c1gf00,3g00s1g,o30u00,333gr66,3vcdhg0,o3003o,36fpj00,e01v30,1s61v00,voc,1vsovo0,v6pj7u,36cpjg0,1sco03o,36cou00,co03o,36cou00,e003o,36cou00,1sco06c,36covg0,e006c,36covg0,co06c,367o37o,31hgf36,1j3o600,3601j6c,36cou00,c1gvm0,307s60o,s6op7g,1gedv00,36cou7s,ofoc1g,3scpj7q,33cvhm7,71m61s,c1hm3g,e00u0c,1ucovg0,s00s1g,o30u00,1o03o,36cou00,1o06c,36covg0,fg07o,36cpj00,3u01j7c,3udpj00,u6or1u,7s000,s6or1o,7o000,o00c30,30cou00,7s,30c0000,7s,60o000,31sdj6u,pmdj0f,31sdj6r,rmvjo3,c1g00o,c1g600,36pmc,1j36000,cophj,1jco000,h8g8k8,h8g8k8,1aqklda,1aqklda,3dnfmve,3dnfmve,c1g60o,c1g60o,c1g60o,3s1g60o,c1hu0o,3s1g60o,r3cdhm,3r3cdhm,0,3v3cdhm,1u0o,3s1g60o,r3dtg6,3r3cdhm,r3cdhm,r3cdhm,1vg6,3r3cdhm,r3dtg6,3v00000,r3cdhm,3v00000,c1hu0o,3s00000,0,3s1g60o,c1g60o,fg0000,c1g60o,3vg0000,0,3vhg60o,c1g60o,fhg60o,0,3vg0000,c1g60o,3vhg60o,c1g7oo,fhg60o,r3cdhm,rjcdhm,r3cdpg,vg0000,fpg,rjcdhm,r3dto0,3vg0000,1vo0,3rjcdhm,r3cdpg,rjcdhm,1vo0,3vg0000,r3dto0,3rjcdhm,c1hvo0,3vg0000,r3cdhm,3vg0000,1vo0,3vhg60o,0,3vjcdhm,r3cdhm,vg0000,c1g7oo,fg0000,7oo,fhg60o,0,vjcdhm,r3cdhm,3vjcdhm,c1hvoo,3vhg60o,c1g60o,3s00000,0,fhg60o,3vvvvvv,3vvvvvv,0,3vvvvvv,3of1s7g,3of1s7g,7gu3of,7gu3of,3vvvvvv,0,tms,34dotg0,7hj7o,36fhg60,fpj60,30c1g00,fsr3c,1m6or00,3ucoo1g,1gcpv00,vmo,3cdgs00,6cpj6,1j7oo60,7dn0o,c1g600,3u30u6c,367gc7s,s6phnu,336oe00,s6phm6,1m6prg0,e3063s,36cou00,vmr,3dns000,30ovmr,3dnso60,s61g7o,3060e00,1scpj6c,36cpj00,fo07s,fo000,o31v1g,o01v00,1g3061g,1g01v00,c30o1g,c01v00,71m6oo,c1g60o,c1g60o,cdhm3g,o3007s,30c00,7dn00,1rdo000,s6or1o,0,o,c00000,0,c00000,7go30c,3m6of0s,1s6or3c,1m00000,1o1gc30,1s00000,f1s,u3o000",8,8,null,!0]),pi._.data.commands.loadFont(["0,0,0,0,1v839c1,20rr6c1,1v00000,vnv,3dvvvu3,3jvuvg0,0,6pvnu,3vfsv1o,800000,g,s7pvjs,s10000,0,c3of77,3jue60o,u00000,61s,1vfvvru,c1gf00,0,o,u3o600,0,3vvvvvv,3vufgu3,3jvvvvv,3vvu000,f36,1144phs,0,3vvvvvv,31pjfdt,2cs7vvv,3vvu000,f0s6hi,1scpj6c,1s00000,f36,1j6cf0o,1v1g600,0,vj6fpg,o30s7g,3g00000,vr3,1vm6or3,1jufpm0,0,c1hmps,3jjpmoo,c00000,1060,3gfhvno,3gc1000,0,10c3hu,3v3s3g6,100000,61s,1v1g60o,1v3o600,0,1j6cpj6,1j6c036,1j00000,vur,3dtmuor,dhm6o0,3s,3360e3c,33ccr1o,6ccv00,0,0,3vftvg0,0,c3ovgo,c1gvhs,c7s000,61s,1v1g60o,c1g600,0,c1g60o,c1gvhs,c00000,0,c0pvgc,c00000,0,c30,3v60c00,0,0,c1g60,3v00000,0,a3c,3v6oa00,0,g,s3gv3s,3vfs000,0,ftvjs,1u3ge0g,0,0,0,0,0,c3of1s,c1g00o,c00000,6cpj6,i00000,0,0,1m6pvjc,1m6pvjc,1m00000,c1gv66,31c0v06,23ccv0o,c00000,1gm6,61gc36,3300000,e3c,1m3gtms,36cotg0,1g,o30o00,0,0,30o,o30c1g,o1g300,0,o1g30c,60o30o,o00000,0,1j3pvps,1j00000,0,60o,1v1g600,0,0,0,c1g61g,0,0,3v00000,0,0,0,1g600,0,10c30o,o61g40,0,v66,37dttn6,33ccv00,0,c3gu0o,c1g60o,1v00000,v66,30o61g,1gcdvg0,0,1ucc1g6,u0c1m6,1u00000,30s,u6pj7u,60o7g0,0,3vc1g60,3u0c1m6,1u00000,e30,30c1v66,33ccv00,0,3vcc1gc,c30c1g,o00000,v66,33ccv66,33ccv00,0,1ucdhm6,1v0c1gc,1s00000,o,c00000,c1g000,0,1g600,60o,o00000,1gc,c30o1g,c0o1g0,0,3u,vg0,0,o1g,c0o1gc,c30o00,0,1ucdhgc,c1g00o,c00000,v66,33dtnmu,3ec0v00,0,83gr66,33fthm6,3300000,1v36,1j6cv36,1j6dv00,0,u6dgm0,30c1gj6,u00000,1u3c,1j6cpj6,1j6pu00,0,3v6coj8,1s6goj6,3v00000,1vj6,1h6gu38,1g61s00,0,u6dgm0,30dthj6,t00000,1hm6,33cdvm6,33cdhg0,0,u1g60o,c1g60o,u00000,7gc,60o30c,36cou00,0,3j6cr3c,1s6or36,3j00000,1s30,1g60o30,1h6dvg0,0,33etvnu,3bcdhm6,3300000,1hn6,3rftnme,33cdhg0,0,s6phm6,33cdhjc,s00000,1v36,1j6cv30,1g61s00,0,1ucdhm6,33ddnjs,60s000,1v36,1j6cv3c,1j6dpg0,0,1ucdhj0,s0phm6,1u00000,vju,1d1g60o,c1gf00,0,33cdhm6,33cdhm6,1u00000,1hm6,33cdhm6,1m3g400,0,33cdhm6,3bddvjs,1m00000,1hm6,1m3ge1o,1mcdhg0,0,1j6cpj6,u1g60o,u00000,1vm6,261gc30,31cdvg0,0,u30c1g,o30c1g,u00000,1060,3g70e0s,70c0g0,0,u0o30c,60o30c,u00000,83gr66,0,0,0,0,0,1vo0,o30600,0,0,0,3o,67pj6c,1r00000,1o30,1g7gr36,1j6cv00,0,3s,33c1g66,1u00000,70c,63or6c,36cotg0,0,3s,33ftg66,1u00000,e3c,1i61s30,1g61s00,0,3m,36cpj3s,6cou00,1o30,1g6otj6,1j6dpg0,0,c1g01o,c1g60o,u00000,1g6,s1g6,30cpj6,u00000,3g60o36,1m7gr36,3j00000,e0o,c1g60o,c1gf00,0,7c,3vddlmm,3300000,0,dopj6,1j6cpg0,0,3s,33cdhm6,1u00000,0,dopj6,1j7oo30,3o00000,3m,36cpj3s,60o7g0,0,dotj6,1g61s00,0,3s,3370766,1u00000,41g,ofoc1g,o3c700,0,6c,36cpj6c,1r00000,0,6cpj6,1j3o600,0,66,33ddlnu,1m00000,0,ccr1o,s6phg0,0,66,33cdhju,30pu00,0,ftj0o,o6dvg0,0,71g60o,1o1g60o,700000,60o,c1g00o,c1g600,0,1o1g60o,71g60o,1o00000,tms,0,0,0,41o,1mcdhnu,0,f36,31c1g62,1j3o306,1u00000,36co06c,36cpj6c,1r00000,o61g,7phnu,30ccv00,g,s6o03o,67pj6c,1r00000,1j6c,7g33s,36cotg0,30,o1g03o,67pj6c,1r00000,3gr1o,7g33s,36cotg0,0,f36,1g6cf0c,33o000,10e3c,7phnu,30ccv00,0,36co03s,33ftg66,1u00000,60c0o,7phnu,30ccv00,0,1j6c01o,c1g60o,u00000,1gf36,3g60o,c1gf00,30,o1g01o,c1g60o,u00000,cdhgg,s6phm6,3vcdhg0,e3c,s00e3c,33cdvm6,3300000,c30o00,3v6co3s,1g6dvg0,0,1j3m,r7tm6o,1n00000,fjc,36cpvmc,36cpjg0,g,s6o03s,33cdhm6,1u00000,1hm6,7phm6,33ccv00,30,o1g03s,33cdhm6,1u00000,30u6c,cpj6c,36cotg0,30,o1g06c,36cpj6c,1r00000,1hm6,cdhm6,337s1gc,1s00066,333gr66,33cdhjc,s00000,cdhg0,33cdhm6,33ccv00,o,c3opj0,1g6cf0o,c00000,3gr34,1gf0o30,1gedv00,0,1j6cf0o,1v1gvgo,c00000,fhj6c,3sc9j6u,36cphg0,e,dhg60o,1v1g60o,cdgs00,1gc30,7g33s,36cotg0,c,c3001o,c1g60o,u00000,1gc30,7phm6,33ccv00,o,o6006c,36cpj6c,1r00000,tms,dopj6,1j6cpg0,tms,cdpnm,3vdtjm6,3300000,3or3c,v00vg0,0,1o,1m6oe00,1u00000,0,c1g,30c30,33ccv00,0,0,3vc1g60,0,0,1vg6,30c000,60,30cdj6o,o61n46,61gfg0,c1g66,36dgc36,379sfg6,300000,c1g00o,c3of1s,c00000,0,r6pm3c,r00000,0,1m3c,r6pm00,0,8k84a4,8k84a4,8k84a4,8k8lda,1aqklda,1aqklda,1aqklda,3enfnbn,3enfnbn,3enfnbn,3ene60o,c1g60o,c1g60o,c1g60o,c1g60o,c1g67o,c1g60o,c1g60o,c1g67o,cfg60o,c1g60o,r3cdhm,r3cdnm,r3cdhm,r3c000,0,fsdhm,r3cdhm,0,fg67o,c1g60o,c1gdhm,r3cdnm,3fcdhm,r3cdhm,r3cdhm,r3cdhm,r3cdhm,r3c000,7u,3fcdhm,r3cdhm,r3cdhm,rfc1nu,0,dhm,r3cdhm,rfs000,0,c1g60o,cfg67o,0,0,0,fg60o,c1g60o,c1g60o,c1g60v,0,60o,c1g60o,cfu000,0,0,7v,c1g60o,c1g60o,c1g60o,c1u60o,c1g60o,0,7v,0,60o,c1g60o,cfu60o,c1g60o,c1g60o,c1u60v,c1g60o,c1gdhm,r3cdhm,r3edhm,r3cdhm,r3cdhm,r3ec1v,0,0,1v,o3edhm,r3cdhm,r3cdhm,rfe07v,0,0,7v,fedhm,r3cdhm,r3cdhm,r3ec1n,r3cdhm,r3c000,7v,fu000,0,r3cdhm,rfe07n,r3cdhm,r3c60o,c1g67v,fu000,0,r3cdhm,r3cdnv,0,0,7v,fu60o,c1g60o,0,7v,r3cdhm,r3cdhm,r3cdhm,r3u000,0,c1g60o,c1u60v,0,0,v,c1u60o,c1g60o,0,1v,r3cdhm,r3cdhm,r3cdhm,rfudhm,r3cdhm,c1g60o,cfu67v,c1g60o,c1g60o,c1g60o,cfg000,0,0,v,c1g60o,c1hvvv,3vvvvvv,3vvvvvv,3vvvvvv,0,7v,3vvvvvv,3vvvs7g,3of1s7g,3of1s7g,3of1s7g,7gu3of,7gu3of,7gu3of,7gvvvv,3vvvvvv,3vg0000,0,0,7dn6o,3cdotg0,0,v66,3ucdhns,30c0g00,1vm6,33c1g60,30c1g00,0,1vjc,1m6or3c,1m00000,1vm6,1g3061g,1gcdvg0,0,3u,3cdhm6o,1o00000,0,1j6cpj6,1u60o60,0,tms,c1g60o,c00000,vgo,u6cpj6,u1gvg0,0,s6phm6,3vcdhjc,s00000,e3c,33cdhjc,1m6prg0,0,f3060c,v6cpj6,u00000,0,7tmur,1v00000,0,1gcvmr,3dv6vj0,3000000,71g,1g60v30,1g30700,0,7phm6,33cdhm6,3300000,7u,1vg0,fs000,0,1g63u,c1g000,3vg0000,c0o,60c30o,o00vg0,0,61gc30,o1g300,1v00000,3gr,dhg60o,c1g60o,c1g60o,c1g60o,c1hm6o,1o00000,o,c00vg0,c1g000,0,tms,7dn00,0,3gr3c,s00000,0,0,0,c1g000,0,0,o,0,f,60o30c,6eor1s,e00000,dgr3c,1m6or00,0,3g,3c30o68,3s00000,0,0,1u7ov3s,1u7o000,0",8,14,null,!0]),pi._.data.commands.loadFont(["0,0,0,0,vk1,2io30dt,2co30bu,0,vnv,3dvvvu3,3jvvvru,0,0,1mftvnu,3v7oe0g,0,0,83gv7u,1u3g400,0,o,u3ppv7,3jhg61s,0,o,u7tvvv,1v1g61s,0,0,0,0,0,3vvvvvv,3vvvpu3,31ufvvv,3vvvvvv,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,vr3,1vm6or3,1hmfpv6,3000000,o,cdmf77,udm60o,0,81g70,3ofhvno,3oe1g40,0,41ge,f3tvhu,f0s1g2,0,61s,1v1g60o,1v3o600,0,pj6,1j6cpj6,1j00pj6,0,vur,3dtmuor,dhm6or,0,7phj0,s6phm6,1m3g366,1u00000,0,0,3vftvnu,0,61s,1v1g60o,1v3o63u,0,61s,1v1g60o,c1g60o,0,60o,c1g60o,c7sf0o,0,0,1g37u,61g000,0,0,30o7u,1g30000,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,61s,u3o60o,c0060o,0,6cpj6,i00000,0,0,3c,1mfsr3c,1mfsr3c,0,c1gv66,31c0v06,38dhjs,c1g000,0,31cc30o,o61hk6,0,e3c,1m3gtms,36cpj3m,0,30c1g,1g00000,0,0,30o,o30c1g,o3060c,0,c0o,60o30c,60o61g,0,0,6cf7v,u6c000,0,0,1g63u,c1g000,0,0,0,1g60o,o00000,0,7u,0,0,0,0,60o,0,0,10c30o,o61g40,0,f36,31s7mur,31s6phs,0,61o,1s1g60o,c1g63u,0,v66,30o61g,1gc1hnu,0,v66,30cf06,30dhjs,0,30s,u6pj7u,60o30u,0,1vm0,30c1v06,30dhjs,0,e30,30c1v66,33cdhjs,0,1vm6,30c30o,o30c1g,0,v66,33ccv66,33cdhjs,0,v66,33ccvg6,30c33o,0,0,c1g000,1g600,0,0,c1g000,1g61g,0,6,61gc30,o1g306,0,0,7s000,1v00000,0,30,o1g306,61gc30,0,v66,330o60o,c0060o,0,3s,33cdnmu,3fdpg3s,0,41o,1mcdhnu,33cdhm6,0,1v36,1j6cv36,1j6cpns,0,f36,31c1g60,30c4phs,0,1u3c,1j6cpj6,1j6cr7o,0,1vj6,1h6gu38,1g64pnu,0,1vj6,1h6gu38,1g60o7g,0,f36,31c1g6u,33ccphq,0,1hm6,33cdvm6,33cdhm6,0,f0o,c1g60o,c1g61s,0,7gc,60o30c,36cpj3o,0,1pj6,1j6ou3o,1m6cpn6,0,1s30,1g60o30,1g64pnu,0,1gv7,3vvvmu3,31s7gu3,0,1hn6,3rftnme,33cdhm6,0,v66,33cdhm6,33cdhjs,0,1v36,1j6cv30,1g60o7g,0,v66,33cdhm6,33ddnjs,60s000,1v36,1j6cv3c,1j6cpn6,0,v66,3360e0c,3cdhjs,0,1vur,2chg60o,c1g61s,0,1hm6,33cdhm6,33cdhjs,0,1gu3,31s7gu3,31mcf0o,0,1gu3,31s7gur,3dvupj6,0,1gu3,1j3o60o,u6dgu3,0,1gu3,31mcf0o,c1g61s,0,1vu3,230o61g,1gc3gvv,0,f1g,o30c1g,o30c1s,0,40,30e0s1o,e0s1g2,0,f0c,60o30c,60o31s,0,83gr66,0,0,0,0,0,0,fu000,o30600,0,0,0,0,7g33s,36cpj3m,0,1o30,1g7gr36,1j6cpjs,0,0,7phm0,30c1hjs,0,70c,63or6c,36cpj3m,0,0,7phnu,30c1hjs,0,e3c,1i61s30,1g60o7g,0,0,7dj6c,36cpj3s,6cou00,1o30,1g6otj6,1j6cpn6,0,60o,3g60o,c1g61s,0,1g6,s1g6,30c1g6,1j6cf00,1o30,1g6cr3o,1s6opn6,0,e0o,c1g60o,c1g61s,0,0,edvur,3dtnmur,0,0,dopj6,1j6cpj6,0,0,7phm6,33cdhjs,0,0,dopj6,1j6cpjs,1g61s00,0,7dj6c,36cpj3s,60o7g0,0,dotj6,1g60o7g,0,0,7phj0,s0phjs,0,41g,ofoc1g,o30dgs,0,0,cpj6c,36cpj3m,0,0,c7gu3,31mcf0o,0,0,c7gu3,3dtnvr6,0,0,c6phs,c3opm3,0,0,cdhm6,33cdhju,30pu00,0,ftj0o,o61hnu,0,3go,c1gs0o,c1g60e,0,60o,c1g00o,c1g60o,0,s0o,c1g3go,c1g63g,0,tms,0,0,0,0,83gr66,33cdvg0,0,f36,31c1g60,316cf0c,37o000,1j00,cpj6c,36cpj3m,0,o61g,7phnu,30c1hjs,0,10e3c,7g33s,36cpj3m,0,1j00,7g33s,36cpj3m,0,60c0o,7g33s,36cpj3m,0,3gr1o,7g33s,36cpj3m,0,0,u6co30,1j3o306,u00000,10e3c,7phnu,30c1hjs,0,1hg0,7phnu,30c1hjs,0,60c0o,7phnu,30c1hjs,0,pg0,3g60o,c1g61s,0,1gf36,3g60o,c1g61s,0,60c0o,3g60o,c1g61s,0,cc00g,s6phm6,3vcdhm6,0,s6oe00,s6phm6,3vcdhm6,0,c30o00,3v6co3s,1g60pnu,0,0,6seor,1vdhn3n,0,fjc,36cpvmc,36cpj6e,0,10e3c,7phm6,33cdhjs,0,1hg0,7phm6,33cdhjs,0,60c0o,7phm6,33cdhjs,0,30u6c,cpj6c,36cpj3m,0,60c0o,cpj6c,36cpj3m,0,1hg0,cdhm6,33cdhju,30ou00,cc03s,33cdhm6,33cdhjs,0,cc066,33cdhm6,33cdhjs,0,1g63u,31s1g60,31ns60o,0,3gr34,1gf0o30,1g61pns,0,1gr6,u1hvoo,3vhg60o,0,fopj6,1u64pjf,1j6cpnj,0,s6oo,c1gvgo,c1g60o,3c70000,1gc30,7g33s,36cpj3m,0,o61g,3g60o,c1g61s,0,1gc30,7phm6,33cdhjs,0,1gc30,cpj6c,36cpj3m,0,tms,dopj6,1j6cpj6,0,1rdo066,3jfdvmu,37cdhm6,0,3or3c,v00vg0,0,0,3gr3c,s00v00,0,0,c1g,30c30,30cdhjs,0,0,1vm0,30c1g00,0,0,1vg6,30c1g0,0,c1g62,33co61g,1gct6o6,61u000,c1g62,33co61g,1jct5hu,30c000,60o,1g60o,u3of0o,0,0,3cr6o,1m3c000,0,0,dgr1m,1mdg000,0,8k84a4,8k84a4,8k84a4,8k84a4,1aqklda,1aqklda,1aqklda,1aqklda,3enfnbn,3enfnbn,3enfnbn,3enfnbn,c1g60o,c1g60o,c1g60o,c1g60o,c1g60o,c1g67o,c1g60o,c1g60o,c1g60o,cfg67o,c1g60o,c1g60o,r3cdhm,r3cdnm,r3cdhm,r3cdhm,0,7u,r3cdhm,r3cdhm,0,fg67o,c1g60o,c1g60o,r3cdhm,rfc1nm,r3cdhm,r3cdhm,r3cdhm,r3cdhm,r3cdhm,r3cdhm,0,fs1nm,r3cdhm,r3cdhm,r3cdhm,rfc1nu,0,0,r3cdhm,r3cdnu,0,0,c1g60o,cfg67o,0,0,0,7o,c1g60o,c1g60o,c1g60o,c1g60v,0,0,c1g60o,c1g67v,0,0,0,7v,c1g60o,c1g60o,c1g60o,c1g60v,c1g60o,c1g60o,0,7v,0,0,c1g60o,c1g67v,c1g60o,c1g60o,c1g60o,c1u60v,c1g60o,c1g60o,r3cdhm,r3cdhn,r3cdhm,r3cdhm,r3cdhm,r3ec1v,0,0,0,3uc1n,r3cdhm,r3cdhm,r3cdhm,rfe07v,0,0,0,fu07n,r3cdhm,r3cdhm,r3cdhm,r3ec1n,r3cdhm,r3cdhm,0,fu07v,0,0,r3cdhm,rfe07n,r3cdhm,r3cdhm,c1g60o,cfu07v,0,0,r3cdhm,r3cdnv,0,0,0,fu07v,c1g60o,c1g60o,0,7v,r3cdhm,r3cdhm,r3cdhm,r3cdhv,0,0,c1g60o,c1u60v,0,0,0,1u60v,c1g60o,c1g60o,0,1v,r3cdhm,r3cdhm,r3cdhm,r3cdnv,r3cdhm,r3cdhm,c1g60o,cfu67v,c1g60o,c1g60o,c1g60o,c1g67o,0,0,0,v,c1g60o,c1g60o,3vvvvvv,3vvvvvv,3vvvvvv,3vvvvvv,0,7v,3vvvvvv,3vvvvvv,3of1s7g,3of1s7g,3of1s7g,3of1s7g,7gu3of,7gu3of,7gu3of,7gu3of,3vvvvvv,3vvvvo0,0,0,0,7dn6o,3cdhn3m,0,u6c,36cpm6c,33cdhmc,0,1vm6,33c1g60,30c1g60,0,0,3v6or3c,1m6or3c,0,7u,3360c0o,o61hnu,0,0,7tm6o,3cdhm3g,0,0,1j6cpj6,1j7oo30,3000000,0,1rdo60o,c1g60o,0,3u,c3opj6,1j3o63u,0,1o,1mcdhnu,33ccr1o,0,e3c,33cdhjc,1m6or7e,0,7hg,c0ofj6,1j6cphs,0,0,7tmur,3dns000,0,3,37tmur,3pnso60,0,71g,1g60v30,1g60c0s,0,3s,33cdhm6,33cdhm6,0,0,3v0007u,1vg0,0,0,c1gvgo,c0007v,0,1g,c0o1gc,c3003u,0,c,c30o1g,c0o03u,0,3gr,dhg60o,c1g60o,c1g60o,c1g60o,c1g60o,3cdhm3g,0,0,c1g03u,1g600,0,0,7dn00,1rdo000,0,3gr3c,s00000,0,0,0,o,c00000,0,0,0,c00000,0,u30c,60o37c,1m6of0s,0,dgr3c,1m6or00,0,0,71m1g,1gchu00,0,0,0,1u7ov3s,1u7ov00,0",8,16,null,!0]),pi._.data.commands.setDefaultFont([1])}(),function(){"use strict";var e;(e=window.pi)._.data.commands.setDefaultPal([["#000000","#0000AA","#00AA00","#00AAAA","#AA0000","#AA00AA","#AA5500","#AAAAAA","#555555","#5555FF","#55FF55","#55FFFF","#FF5555","#FF55FF","#FFFF55","#FFFFFF","#000000","#141414","#202020","#2D2D2D","#393939","#454545","#515151","#616161","#717171","#828282","#929292","#A2A2A2","#B6B6B6","#CACACA","#E3E3E3","#FFFFFF","#0000FF","#4100FF","#7D00FF","#BE00FF","#FF00FF","#FF00BE","#FF007D","#FF0041","#FF0000","#FF4100","#FF7D00","#FFBE00","#FFFF00","#BEFF00","#7DFF00","#41FF00","#00FF00","#00FF41","#00FF7D","#00FFBE","#00FFFF","#00BEFF","#007DFF","#0041FF","#7D7DFF","#9E7DFF","#BE7DFF","#DF7DFF","#FF7DFF","#FF7DDF","#FF7DBE","#FF7D9E","#FF7D7D","#FF9E7D","#FFBE7D","#FFDF7D","#FFFF7D","#DFFF7D","#BEFF7D","#9EFF7D","#7DFF7D","#7DFF9E","#7DFFBE","#7DFFDF","#7DFFFF","#7DDFFF","#7DBEFF","#7D9EFF","#B6B6FF","#C6B6FF","#DBB6FF","#EBB6FF","#FFB6FF","#FFB6EB","#FFB6DB","#FFB6C6","#FFB6B6","#FFC6B6","#FFDBB6","#FFEBB6","#FFFFB6","#EBFFB6","#DBFFB6","#C6FFB6","#B6FFB6","#B6FFC6","#B6FFDB","#B6FFEB","#B6FFFF","#B6EBFF","#B6DBFF","#B6C6FF","#000071","#1C0071","#390071","#550071","#710071","#710055","#710039","#71001C","#710000","#711C00","#713900","#715500","#717100","#557100","#397100","#1C7100","#007100","#00711C","#007139","#007155","#007171","#005571","#003971","#001C71","#393971","#453971","#553971","#613971","#713971","#713961","#713955","#713945","#713939","#714539","#715539","#716139","#717139","#617139","#557139","#457139","#397139","#397145","#397155","#397161","#397171","#396171","#395571","#394571","#515171","#595171","#615171","#695171","#715171","#715169","#715161","#715159","#715151","#715951","#716151","#716951","#717151","#697151","#617151","#597151","#517151","#517159","#517161","#517169","#517171","#516971","#516171","#515971","#000041","#100041","#200041","#310041","#410041","#410031","#410020","#410010","#410000","#411000","#412000","#413100","#414100","#314100","#204100","#104100","#004100","#004110","#004120","#004131","#004141","#003141","#002041","#001041","#202041","#282041","#312041","#392041","#412041","#412039","#412031","#412028","#412020","#412820","#413120","#413920","#414120","#394120","#314120","#284120","#204120","#204128","#204131","#204139","#204141","#203941","#203141","#202841","#2D2D41","#312D41","#352D41","#3D2D41","#412D41","#412D3D","#412D35","#412D31","#412D2D","#41312D","#41352D","#413D2D","#41412D","#3D412D","#35412D","#31412D","#2D412D","#2D4131","#2D4135","#2D413D","#2D4141","#2D3D41","#2D3541","#2D3141","#000000","#000000","#000000","#000000","#000000","#000000","#000000"]]),e._.data.commands.setDefaultColor([7])}(),function(){"use strict";var e;(e=window.pi)._.processCommands(),void 0===window.$&&(window.$=window.pi),delete e._}();
//# sourceMappingURL=pi-1.1.1.min.js.map